(window.webpackJsonp=window.webpackJsonp||[]).push([["modules/nextcontent"],{aadc7fac9270e944b350:function(e,t,n){"use strict";n.r(t),n.d(t,"bindEventRemoveDividerOnScrollOver",(function(){return R}));var r=n("a4a92fe9c6eecbf958fe"),o=n("114e6051b0f5f7c39077"),a=n("654adc4d2d3e5dbaee18");function i(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if(!(Symbol.iterator in Object(e))&&"[object Arguments]"!==Object.prototype.toString.call(e))return;var n=[],r=!0,o=!1,a=void 0;try{for(var i,c=e[Symbol.iterator]();!(r=(i=c.next()).done)&&(n.push(i.value),!t||n.length!==t);r=!0);}catch(e){o=!0,a=e}finally{try{r||null==c.return||c.return()}finally{if(o)throw a}}return n}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}var c,l,d,u,s=document.querySelector(".content-container"),f=document.querySelector("#mobile-adhesion-unit"),y=!1,w=!1,b=document.location.href,S=document.title,h={"HRST.article":window.HRST?window.HRST.article:{},"HRST.datalayer":window.HRST?window.HRST.datalayer:{},"HRST.metadata":{title:S}},m=!1,g=window.STICKY_PLAYER_ENABLED;function v(){g&&document.querySelector(".glimmer-sticky-wrapper")&&(g=!1,o.a.trigger("adjustVideoForNextContent"))}window.addEventListener("app.nextContentInView",(function(e){var t,n,r;(t=e.detail)["HRST.article"]&&((n=t["HRST.article"].pageUrl.split("/")).splice(0,3),n="/"+n.join("/")),t["HRST.metadata"]&&(r=t["HRST.metadata"].title),window.history&&window.history.pushState&&n&&r&&(window.history.pushState(null,null,n),document.title=r)}));var p=Object(r.a)([function(e){v(),"HEADER"===e.target.tagName&&(m=!0),m&&(f.style.display="none"),e.target.classList.contains("next-content")&&e.boundingClientRect.top>0&&!y&&(d&&(d.enableEngagement=!w),o.a.trigger("nextContentInView",d),y=!0,w=!0)},function(e){e.target.classList.contains("next-content")&&e.boundingClientRect.top>0&&y&&(window.history&&window.history.pushState&&(window.history.pushState(null,null,b),document.title=S),o.a.trigger("originalContentInView",h),y=!1,m=!1),"DIV"===e.target.tagName&&(m=!1),m&&(f.style.display="block")}]);function q(e){return fetch(e)}function R(e){window.addEventListener("scroll",(function t(){window.scrollY>e.offsetTop+e.offsetHeight&&(e.remove(),window.removeEventListener("scroll",t))}))}function x(e,t,n){var r;switch(l){case"gallery":!function(e,t){new c({contentId:t,el:e.querySelector(".slideshow-inner"),isNextGallery:!0})}(t,n),r=t.querySelector(".slide-container");break;case"listicle":r=t.querySelector(".listicle-body-content");break;case"long-form-article":!function(e){var t=new c({el:e.querySelector(".content-lede-loop")});t.displayLoopOrFallback()}(e),r=t.querySelector(".longform-body");break;case"standard-article":!function(e){var t=new c({el:e.querySelector(".content-lede-loop")});t.displayLoopOrFallback()}(t),r=t.querySelector(".standard-body-content");break;default:return}o.a.trigger("adApiUpdate",[{container:r,lazyload:!1}]),o.a.trigger("nextContentLoaded",d)}var T=Object(r.a)([function(e,t){t.disconnect();var n=i(function(){var e=s.querySelector(".next-with-recirc > a");if(!e)return[];var t=Object(a.m)(window.location)?new URLSearchParams(window.location.search).get("utm_campaign"):"";return[e.attributes["data-id"].value,"".concat(e.attributes.href.value,"?content-only=yes").concat(t)]}(),2),r=n[0],o=n[1];if(r){var c,f=Object(a.f)("/ajax/datalayerdata/",{id:r});v(),Promise.all([(c=o,fetch(c)).then((function(e){return e.text()})),q(f).then((function(e){return e.json()}))]).then((function(e){var t,n=i(e,2),r=n[0],o=n[1];return d={"HRST.article":(t=o).article,"HRST.datalayer":t.datalayer,"HRST.metadata":t.metadata},Object(a.u)((function(){return e=r,(t=document.createElement("div")).innerHTML=e,[t.querySelector(".leaderboard-ad"),t.querySelector(".content-header, .longform-header"),t.querySelector(".content-container"),t.querySelector(".next-content-divider")];var e,t}))})).then((function(e){var t=i(e,4),n=t[0],r=t[1],o=t[2],c=t[3];return Object(a.u)((function(){return u=n,function(e,t,n,r){n.classList.add("next-content"),s.parentNode.insertBefore(n,s.nextSibling),s.parentNode.insertBefore(t,s.nextSibling),e&&(e.classList.add("next-content-leaderboard"),s.parentNode.insertBefore(e,s.nextSibling)),r&&(R(r),s.parentNode.insertBefore(r,s.nextSibling))}(n,r,o,c),[r,o]}))})).then((function(e){var t=i(e,2),n=t[0],o=t[1];return Object(a.u)((function(){return x(n,o,r)}))})).then((function(){if(s&&!s.classList.contains("slideshow-container")){var e=document.querySelectorAll(".content-container"),t="long-form-article"===l?".article-header":".content-header";p.observe(e[0]),p.observe(e[1]),p.observe(document.querySelectorAll(t)[1]),u&&p.observe(u)}}))}},a.p]);t.default=function(e,t){c=t,l=e;var n=function(){switch(l){case"gallery":var e=s.querySelectorAll(".slideshow-slide.loaded");return e.item(e.length-6)||e.item(0);case"listicle":var t=s.querySelectorAll(".listicle-slide");return t.item(t.length-6)||t.item(0);case"long-form-article":return s.querySelector(".longform-body > :nth-last-child(10)")||s.querySelector(".longform-body > :first-child");case"standard-article":return s.querySelector(".standard-body-content > :nth-last-child(10)")||s.querySelector(".standard-body-content > :first-child");default:return null}}();n&&T.observe(n)}}}]);
//# sourceMappingURL=nextcontent.ace701f.js.map