!function(){"use strict";var t={};t.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(t){if("object"==typeof window)return window}}();const{__FRE:e}=window,n=function(t){const e={};return function(...n){const r=n.join(",");return e[r]||(e[r]=t(...n)),e[r]}},r=(t,e,n,r,i)=>{for(t=t&&t.split?t.split("."):[t],r=0;r<t.length;r++)e=e?e[t[r]]:i;return e===i||""===e||null===e?n:e},i=(n(r),{domain:()=>document.domain||window.location.hostname,get(t,e){for(let n=document.cookie.split(";"),r=0;r<n.length;r++){const i=n[r].replace(/^\s+/,"").split("=");if(i[0]===t)return e?i[1]:decodeURIComponent(i[1])}return""},set(t,e,n){let r=`${t}=${e}`;if(void 0!==n){const t=Date.now()+60*n*1e3;r+=`; expires=${new Date(t).toUTCString()}`}return document.cookie=`${r}; path=/`,this.get(t)===e},test(t){return!!this.get(t)}}),a={fire(t,e,n){const r=new CustomEvent(e,{detail:n});t.dispatchEvent(r)},listen(t,e,n){const r=e.split(" ");for(let e=0;e<r.length;e++)t.addEventListener(r[e],n,!1)}};let o=()=>window.location.search;const c=(t,e="")=>{try{const n=new URL(o());return n.searchParams.get(t)?n.searchParams.get(t):e}catch(n){const r=new RegExp(`[&?]${t}=?([^&]*)?`).exec(o());return null===r?e:void 0===r[1]||r[1]}},l=(n(c),(t,e)=>{let n,r=document.getElementsByTagName("script");const i=r[0];for(n=0;n<r.length;n++)if(r[n].src===t&&r[n].readyState&&/loaded|complete/.test(r[n].readyState))try{return void e()}catch(t){}r=document.createElement("script"),r.type="text/javascript",r.async=!0,r.src=t,r.onerror=()=>{r.addEventListener&&(r.readyState="loaded")},r.onreadystatechange=()=>{if(!r.readyState||"complete"===r.readyState||"loaded"===r.readyState){r.onload=r.onreadystatechange,r.onreadystatechange=null,r.addEventListener&&(r.readyState="loaded");try{e.call(r)}catch(t){}}},r.onload=r.onreadystatechange,i.parentNode.insertBefore(r,i)}),u=(t,e)=>{function n(t,e){return t<<e|t>>>32-e}function r(t,e){var n,r,i,a,o;return i=2147483648&t,a=2147483648&e,o=(1073741823&t)+(1073741823&e),(n=1073741824&t)&(r=1073741824&e)?2147483648^o^i^a:n|r?1073741824&o?3221225472^o^i^a:1073741824^o^i^a:o^i^a}function i(t,e,i,a,o,c,l){return t=r(t,r(r(function(t,e,n){return t&e|~t&n}(e,i,a),o),l)),r(n(t,c),e)}function a(t,e,i,a,o,c,l){return t=r(t,r(r(function(t,e,n){return t&n|e&~n}(e,i,a),o),l)),r(n(t,c),e)}function o(t,e,i,a,o,c,l){return t=r(t,r(r(function(t,e,n){return t^e^n}(e,i,a),o),l)),r(n(t,c),e)}function c(t,e,i,a,o,c,l){return t=r(t,r(r(function(t,e,n){return e^(t|~n)}(e,i,a),o),l)),r(n(t,c),e)}function l(t){var e,n="",r="";for(e=0;3>=e;e++)n+=(r="0"+(t>>>8*e&255).toString(16)).substr(r.length-2,2);return n}void 0===e&&(e=""),void 0===t&&(t=1e10*Math.random()+"||"+window.location.href+"||"+(new Date).getTime()+"||"+e);var u,d,s,f,v,m,g,p,h,b=Array();for(t=function(t){t=t.replace(/\r\n/g,"\n");for(var e="",n=0;n<t.length;n++){var r=t.charCodeAt(n);128>r?e+=String.fromCharCode(r):r>127&&2048>r?(e+=String.fromCharCode(r>>6|192),e+=String.fromCharCode(63&r|128)):(e+=String.fromCharCode(r>>12|224),e+=String.fromCharCode(r>>6&63|128),e+=String.fromCharCode(63&r|128))}return e}(t),b=function(t){for(var e,n=t.length,r=n+8,i=16*((r-r%64)/64+1),a=Array(i-1),o=0,c=0;n>c;)o=c%4*8,a[e=(c-c%4)/4]=a[e]|t.charCodeAt(c)<<o,c++;return o=c%4*8,a[e=(c-c%4)/4]=a[e]|128<<o,a[i-2]=n<<3,a[i-1]=n>>>29,a}(t),m=1732584193,g=4023233417,p=2562383102,h=271733878,u=0;u<b.length;u+=16)d=m,s=g,f=p,v=h,m=i(m,g,p,h,b[u+0],7,3614090360),h=i(h,m,g,p,b[u+1],12,3905402710),p=i(p,h,m,g,b[u+2],17,606105819),g=i(g,p,h,m,b[u+3],22,3250441966),m=i(m,g,p,h,b[u+4],7,4118548399),h=i(h,m,g,p,b[u+5],12,1200080426),p=i(p,h,m,g,b[u+6],17,2821735955),g=i(g,p,h,m,b[u+7],22,4249261313),m=i(m,g,p,h,b[u+8],7,1770035416),h=i(h,m,g,p,b[u+9],12,2336552879),p=i(p,h,m,g,b[u+10],17,4294925233),g=i(g,p,h,m,b[u+11],22,2304563134),m=i(m,g,p,h,b[u+12],7,1804603682),h=i(h,m,g,p,b[u+13],12,4254626195),p=i(p,h,m,g,b[u+14],17,2792965006),m=a(m,g=i(g,p,h,m,b[u+15],22,1236535329),p,h,b[u+1],5,4129170786),h=a(h,m,g,p,b[u+6],9,3225465664),p=a(p,h,m,g,b[u+11],14,643717713),g=a(g,p,h,m,b[u+0],20,3921069994),m=a(m,g,p,h,b[u+5],5,3593408605),h=a(h,m,g,p,b[u+10],9,38016083),p=a(p,h,m,g,b[u+15],14,3634488961),g=a(g,p,h,m,b[u+4],20,3889429448),m=a(m,g,p,h,b[u+9],5,568446438),h=a(h,m,g,p,b[u+14],9,3275163606),p=a(p,h,m,g,b[u+3],14,4107603335),g=a(g,p,h,m,b[u+8],20,1163531501),m=a(m,g,p,h,b[u+13],5,2850285829),h=a(h,m,g,p,b[u+2],9,4243563512),p=a(p,h,m,g,b[u+7],14,1735328473),m=o(m,g=a(g,p,h,m,b[u+12],20,2368359562),p,h,b[u+5],4,4294588738),h=o(h,m,g,p,b[u+8],11,2272392833),p=o(p,h,m,g,b[u+11],16,1839030562),g=o(g,p,h,m,b[u+14],23,4259657740),m=o(m,g,p,h,b[u+1],4,2763975236),h=o(h,m,g,p,b[u+4],11,1272893353),p=o(p,h,m,g,b[u+7],16,4139469664),g=o(g,p,h,m,b[u+10],23,3200236656),m=o(m,g,p,h,b[u+13],4,681279174),h=o(h,m,g,p,b[u+0],11,3936430074),p=o(p,h,m,g,b[u+3],16,3572445317),g=o(g,p,h,m,b[u+6],23,76029189),m=o(m,g,p,h,b[u+9],4,3654602809),h=o(h,m,g,p,b[u+12],11,3873151461),p=o(p,h,m,g,b[u+15],16,530742520),m=c(m,g=o(g,p,h,m,b[u+2],23,3299628645),p,h,b[u+0],6,4096336452),h=c(h,m,g,p,b[u+7],10,1126891415),p=c(p,h,m,g,b[u+14],15,2878612391),g=c(g,p,h,m,b[u+5],21,4237533241),m=c(m,g,p,h,b[u+12],6,1700485571),h=c(h,m,g,p,b[u+3],10,2399980690),p=c(p,h,m,g,b[u+10],15,4293915773),g=c(g,p,h,m,b[u+1],21,2240044497),m=c(m,g,p,h,b[u+8],6,1873313359),h=c(h,m,g,p,b[u+15],10,4264355552),p=c(p,h,m,g,b[u+6],15,2734768916),g=c(g,p,h,m,b[u+13],21,1309151649),m=c(m,g,p,h,b[u+4],6,4149444226),h=c(h,m,g,p,b[u+11],10,3174756917),p=c(p,h,m,g,b[u+2],15,718787259),g=c(g,p,h,m,b[u+9],21,3951481745),m=r(m,d),g=r(g,s),p=r(p,f),h=r(h,v);return(l(m)+l(g)+l(p)+l(h)).toLowerCase()};var d=/affiliateLogging/.test(document.location.search),s=function(){var t;d&&(t=console).log.apply(t,arguments)},f=function(){var t;d&&(t=console).debug.apply(t,arguments)};function v(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){var n=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=n){var r,i,a=[],o=!0,c=!1;try{for(n=n.call(t);!(o=(r=n.next()).done)&&(a.push(r.value),!e||a.length!==e);o=!0);}catch(t){c=!0,i=t}finally{try{o||null==n.return||n.return()}finally{if(c)throw i}}return a}}(t,e)||g(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function m(t){return function(t){if(Array.isArray(t))return p(t)}(t)||function(t){if("undefined"!=typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}(t)||g(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function g(t,e){if(t){if("string"==typeof t)return p(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?p(t,e):void 0}}function p(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}var h=[Node.ELEMENT_NODE,Node.DOCUMENT_NODE],b=["iframe","input","journey-inline-newsletter","script","video"],y=[/^google_ads.*/,/^gpt_.*/],w=[/.*?breaker-ad.*/,/^glimmerPlayer$/,/^text_ad$/,/.*?vertical-ad.*/,/^video-js$/,/^vjs-.*/],A=function(t){f("[PRE HANDLER] input",t);var e=t.some((function(t){var e=v(t,2)[1];return void 0!==e&&e}));f("[PRE HANDLER] firstRun",e);var n=t.reduce((function(t,e){var n=v(e,1)[0];return f("[PRE HANDLER] acc, node",t,n),t.add(null!=n?n:document),t}),new Set);f("[PRE HANDLER] nodeSet",n);var r=n.has(document)?[document]:m(n);return f("[PRE HANDLER] nodes",r),[r,e]},k=function(t,e){var n=new Set;return new Set(t).forEach((function(t){t.querySelectorAll(e).forEach((function(t){return n.add(t)}))})),m(n)};function S(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}var O=function(){var t,e,n,r;window.HRST=null!==(t=window.HRST)&&void 0!==t?t:{},null!==(e=window.HRST)&&void 0!==e&&e.commerce||(window.HRST.commerce={}),null!==(n=window.HRST)&&void 0!==n&&null!==(r=n.commerce)&&void 0!==r&&r.affiliate||(window.HRST.commerce.affiliate={});var i=document.getElementById("__NEXT_DATA__");if(i){var a,o=JSON.parse(i.innerHTML);Object.keys(null!==(a=null==o?void 0:o.HRST)&&void 0!==a?a:{}).forEach((function(t){window.HRST[t]=o.HRST[t]}))}return window.HRST},R=function(t){var e=t.getAttribute("data-affiliate-network");if(!e)return f("getAffiliateNetwork - NOT FOUND",e),null;try{var n,r,i,a=JSON.parse(e);return f("".concat(null!==(n=null==a||null===(r=a.network)||void 0===r||null===(i=r.name)||void 0===i?void 0:i.toUpperCase())&&void 0!==n?n:""," getAffiliateNetwork").trim(),a),a}catch(n){return void f("getAffiliateNetwork ERROR",t,e,n)}},_=function(t,e){var n,r,i,a,o,c,l,u,d,s=null!==(n=window.HRST)&&void 0!==n?n:{},f=(null==s||null===(r=s.article)||void 0===r||null===(i=r.section)||void 0===i?void 0:i.prefix)||!1,v=null==t||null===(a=t.domains)||void 0===a?void 0:a[document.location.hostname],m=null!==(o=null==v?void 0:v.default)&&void 0!==o?o:null==t?void 0:t.default,g=null!==(c=null==v||null===(l=v.section)||void 0===l?void 0:l[f])&&void 0!==c?c:null==t||null===(u=t.section)||void 0===u?void 0:u[f],p=null!=g?g:m;return null!==(d=null==p?void 0:p[e])&&void 0!==d?d:""},E=function(t){return new URL(document.location).searchParams.get(t)||""},P=function(t){var e=E(t);if(e)return e;var n=i.get("gpt_utm");if(n){var r=JSON.parse(n),a=t.split("_")[1]||"";if(Object.prototype.hasOwnProperty.call(r,a))return r[a]}return""},T=function(t){for(var e="_amznClk=",n=document.cookie.split(";"),r=0;r<n.length;r+=1){for(var i=n[r];" "===i.charAt(0);)i=i.substring(1,i.length);if(0===i.indexOf(e)){var a=i.substring(e.length,i.length);if(t===(a=a.split("-"))[0])return a.shift(1),a.join("-")}}return""},C=function(t){var e={};try{e=JSON.parse(document.getElementById("data-layer").innerText)}catch(t){}return r(t,e,"")},D=function(t){return(t.getAttribute("data-vars-ga-link-treatment")||"").split("|").map((function(t){return t.trim()})).filter((function(t){return"(not set)"!==t}))[0]||""},j=function(t){var e,n,r=P("utm_source"),i=P("utm_campaign"),a=P("utm_medium"),o=E("fbclid")||T("fbclid"),c=E("gclid")||T("gclid"),l=E("msclkid")||T("msclkid"),u="",d=document.referrer;return d&&(u=(e=d.split("/"),n=3,function(t){if(Array.isArray(t))return t}(e)||function(t,e){var n=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=n){var r,i,a=[],o=!0,c=!1;try{for(n=n.call(t);!(o=(r=n.next()).done)&&(a.push(r.value),!e||a.length!==e);o=!0);}catch(t){c=!0,i=t}finally{try{o||null==n.return||n.return()}finally{if(c)throw i}}return a}}(e,n)||function(t,e){if(t){if("string"==typeof t)return S(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?S(t,e):void 0}}(e,n)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}())[2]),{utmSource:r,utmCampaign:i,utmMedium:a,gclid:c,msclkid:l,fbclid:o,refDomain:u,contentId:C("content.id")||C("listing.id")||window.HRST.contentId,contentProductId:t.getAttribute("data-vars-ga-product-id")||"",productRetailerId:t.getAttribute("data-vars-ga-product-retailer-id")||"",linkTreatment:D(t)}},N=function(t){var e=j(t),n=e.utmSource,r=e.utmCampaign,i=e.utmMedium,a=e.gclid,o=e.msclkid,c=e.fbclid,l=e.refDomain,u=e.contentId,d=e.contentProductId,s=e.productRetailerId,v=e.linkTreatment,m="[".concat(["utm_source|".concat(n),"utm_campaign|".concat(r),"utm_medium|".concat(i),"gclid|".concat(a),"msclkid|".concat(o),"fbclid|".concat(c),"refdomain|".concat(l),"content_id|".concat(u),"content_product_id|".concat(d),"product_retailer_id|".concat(s),"lt|".concat(v)].join("["));return f("AFFILIATE:","utils.buildTrackingData",{element:t,data:m}),m},G=function(t,e){var n=O(),r=n.commerce.affiliate.observers;if(r||(r={},n.commerce.affiliate.observers=r),!r[e.toLowerCase()]){var i=new MutationObserver((function(n){n.forEach((function(n){var r;null!==(r=n.addedNodes)&&void 0!==r&&r.length&&n.addedNodes.forEach((function(n){(function(t){var e,n,r;return h.includes(null==t?void 0:t.nodeType)?b.includes(null==t||null===(e=t.nodeName)||void 0===e?void 0:e.toLowerCase())?(f("NODE CHECKER:","skipped by node name",t),!1):(n=null==t?void 0:t.id)&&y.some((function(t){return t.test(n)}))?(f("NODE CHECKER:","skipped by id",t),!1):!(r=null==t?void 0:t.classList)||!m(r).some((function(t){return w.some((function(e){return e.test(t)}))}))||(f("NODE CHECKER:","skipped by className",t),!1):((null==t?void 0:t.nodeType)!==Node.TEXT_NODE&&f("NODE CHECKER:","skipped by node type",t),!1)})(n)&&(t(n),f("".concat(e,": run MutationObserver on"),n))}))}))}));i.observe(document.body,{subtree:!0,childList:!0}),r[e.toLowerCase()]=i,s(e,"initialize MutationObserver")}},L=function(t,e){var n=O(),r=n.commerce.affiliate.observers;if(r||(r={},n.commerce.affiliate.affiliateNetworkObservers=r),!r[e.toLowerCase()]){var i=new MutationObserver((function(n){n.forEach((function(n){if("data-affiliate-network"===n.attributeName){var r=n.target;t(r),f("".concat(e,": run AffiliateNetworkAttributeObserver on"),r)}}))}));i.observe(document.body,{subtree:!0,attributes:!0}),r[e.toLowerCase()]=i,s(e,"initialize setAffiliateNetworkAttributeObserver")}},I=function(t,e,n,r,i){var a,o,c=[],l="".concat(i?"".concat(i,":"):""," [DEBOUNCER]").trim(),u=function(t){c.push(t),f(l,"collect",c.length,t)},d=function(){f(l,"call",c),t.apply(o,r?r(c):c),f(l,"reset",c.length),c=[]};return function(){o=this;for(var t=arguments.length,r=new Array(t),i=0;i<t;i++)r[i]=arguments[i];u(r);var c=function(){a=null,n||d()},l=n&&!a;clearTimeout(a),a=setTimeout(c,e),l&&d()}},U=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"all",e=E("disableAffiliateBundle").toLowerCase().split(",");return e.includes("all")||e.includes(t.toLowerCase())},M=function(t){["interactive","complete"].includes(document.readyState)?setTimeout(t,1):document.addEventListener("DOMContentLoaded",t)},z="AMAZON",H="RAKUTEN",x="SKIMLINKS",B="TRACKONOMICS",K=~~E("debounceTimeout")||250;function F(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function $(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?F(Object(n),!0).forEach((function(e){q(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):F(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function q(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var J=function(t){for(var e="_amznClk=",n=document.cookie.split(";"),r=0;r<n.length;r+=1){for(var i=n[r];" "===i.charAt(0);)i=i.substring(1,i.length);if(0===i.indexOf(e)){var a=i.substring(e.length,i.length);if(t===(a=a.split("-"))[0])return a.shift(1),a.join("-")}}return""},V=function(t){var e=new Date;e.setDate(e.getDate()),e.setMinutes(e.getMinutes()+30);var n="".concat(t,";expires=").concat(e.toUTCString(),"; path=/");document.cookie="_amznClk=".concat(n)},X=function(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];f.apply(void 0,["🛍️ ".concat(z,":")].concat(e))},W=function(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];s.apply(void 0,["🛍️ ".concat(z,":")].concat(e))},Y=function(){var t=arguments.length>0&&void 0!==arguments[0]&&arguments[0],e=c("fbclid")||J("fbclid"),n=c("gclid")||J("gclid"),r=c("msclkid")||J("msclkid"),i="";return n&&(i=u(n),V("gclid-".concat(n))),t||(e&&(i=u(e),V("fbclid-".concat(e))),r&&(i=u(r),V("msclkid-".concat(r)))),i},Z=function(){var t=E("utm_campaign");if(t)return t;var e=i.get("gpt_utm");if(e){var n=JSON.parse(e);if(Object.prototype.hasOwnProperty.call(n,"campaign"))return n.campaign}var r=E("src");return r||(i.get("gpt_src")||"")},Q=function(t){var e,n,r=null==t||null===(e=t.article)||void 0===e?void 0:e.id,i=null==t||null===(n=t.site)||void 0===n?void 0:n.icxSiteId;if(r&&i){var a=r.split("."),o=a[1].substring(0,1);"l"===o&&(o="g"),r="".concat(i,".").concat(o,".").concat(a[2])}return r},tt=function(t,e){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],r=_(t,"tag");if(n)return r;var i=_(t,"sem"),a=_(t,"social"),o=c("gclid")||J("gclid"),l=c("msclkid")||J("msclkid"),u=r;return(o||l)&&/^arb_/i.test(e)||/^arb_(ga|bg)/i.test(e)?u=i||r:/^arb_/i.test(e)&&(u=a||i||r),u},et=function(t){return t.getAttribute("data-vars-ga-product-id")||""},nt=function(t,e,n){var r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];return[[],["artid",Q(n)],["src",e],["ch",Y(r)],["lt",D(t)],["pid",et(t)]].map((function(t){return t.join("|")})).join("[")},rt=function(t,e,n){var r;if(X("handleAmazonLink",t),t.classList.contains("noamzn"))X("handleAmazonLink skipped",t);else{var i;try{i=new URL(t.getAttribute("href"))}catch(e){return void W("handleAmazonLink error getting URL object from href",t)}if(i.searchParams.get("ascsubtag"))X("handleAmazonLink already set skipped",t);else{var a=null!==(r=t.getAttribute("rel"))&&void 0!==r?r:"";a.includes("noskim")||t.setAttribute("rel","".concat(a," noskim").trim()),i.searchParams.get("linkCode")||i.searchParams.set("linkCode","ogi"),i.searchParams.delete("tag"),i.searchParams.delete("ascsubtag"),i.searchParams.set("tag",e),i.searchParams.set("ascsubtag",n),t.setAttribute("href",i.toString()),t.setAttribute("data-amazon-ascsubtag",n)}}},it={getSrcVal:null,buildAscSubTag:null},at=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n='a[href*="'.concat(t,'"]'),r='a[href*="'.concat(t,'"]:not([data-amazon-ascsubtag])'),i="amazon."!==t,a=$($({},it),e);return I((function(t){var e,o,c=arguments.length>1&&void 0!==arguments[1]&&arguments[1];X("handleObserver",t,c);var l=k(t,c?n:r);if(l.length){W("found elements",l);var u=O(),d=a.getSrcVal?a.getSrcVal():Z(),s=tt(null==u||null===(e=u.commerce)||void 0===e||null===(o=e.affiliate)||void 0===o?void 0:o.amazon,d,i);l.forEach((function(t){var e=a.buildAscSubTag?a.buildAscSubTag(t,d,u,i):nt(t,d,u,i);rt(t,s,e)}))}}),K,!1,A,z)},ot=function(){if(void 0===window.GDPR_CONSENT_GROUPS){var t=document.cookie.match("[;]*\\s*OptanonConsent\\s*=\\s*([^;]+)");if(window.GDPR_CONSENT_GROUPS="",t)try{var e=t[1].match(/groups=(.*?)(&|$)/);e&&(e=decodeURIComponent(e[1]).split(",")).forEach((function(t){"1"===t.split(":")[1]&&(window.GDPR_CONSENT_GROUPS+=(window.GDPR_CONSENT_GROUPS?",":"")+t.split(":")[0])}))}catch(t){s("GDPR: error gathering cookie")}}},ct=function(){return window.getTCFConsent||(()=>{function t(t,e){const n=(t,e)=>{window.__tcfapi("getTCData",2,(n=>!0===n.vendor.consents[t]&&e()),[t])},r=(r,i)=>{i&&"tcloaded"===r.eventStatus&&(window.__tcfapi("removeEventListener",2,(()=>{}),r.listenerId),n(t,e))};window.__tcfapi("ping",2,(i=>{"loaded"!==i.cmpStatus?window.__tcfapi("addEventListener",2,r):n(t,e)}))}const e=[];window.GDPR&&function n(){if(void 0===window.__tcfapi)setTimeout(n,100);else{for(;e.length;){const n=e.shift();Array.isArray(n)&&t(...n)}const n=(t,e)=>{e&&"tcloaded"===t.eventStatus&&(window.__tcfapi("removeEventListener",2,(()=>{}),t.listenerId),window.__tcfapi_ready=!0)};window.__tcfapi("ping",2,(t=>{"loaded"!==t.cmpStatus?window.__tcfapi("addEventListener",2,n):window.__tcfapi_ready=!0}))}}(),window.getTCFConsent=(n,r,i)=>{switch(n){case"category":try{if(!window.GDPR)return!0;if(window.GDPR_CONSENT_GROUPS.indexOf(r)>-1)return!0;break}catch(t){return!1}case"vendor":return window.GDPR?(void 0===window.__tcfapi?e.push([r,i]):t(r,i),!0):i();default:return!1}return!1}})(),window.getTCFConsent("category","C0003",null)?(s("GDPR: non-compliant"),!0):(s("GDPR: compliant"),!1)},lt=function(t){var e=t.getAttribute("data-product-url");e&&!t.hasAttribute("gdpr-declined-url")&&(t.classList.add("noskim"),t.setAttribute("gdpr-declined-url",t.getAttribute("href")),t.setAttribute("href",e),t.setAttribute("data-affiliate",!1))},ut=function(t,e){s("GDPR: registerEvents",t),a.listen(window,["app.slideshow.slide-change","load.app.shopamazon","app.embedded_gallery.event.slide_change","app.contentLazyLoaded"].join(" "),(function(){setTimeout((function(){s("AFFILIATE EVENTS: run ".concat(ct()?"callback":"rewriteAffiliatesDOM")),e.forEach(ct()?t:lt)}),200)}))},dt=function(){s("GDPR: rewriteAffiliates");var t=document.querySelectorAll("a[data-product-url]");t.forEach((function(t){lt(t)})),ut(lt,t)},st=function(t){ct()?(s("GDPR:","RUNSCRIPTGDPR 👍 - add affiliate data"),t()):(s("GDPR:","RUNSCRIPTGDPR 👎 - remove affiliates"),dt())},ft=["app.contentLazyLoaded","app.embedded_gallery.event.slide_change","app.nextContentLoaded","app.slideshow.slide-change","embedded_gallery.event.slide_change","load.app.shopamazon","render.app.slide-change"],vt=at("amazon."),mt=function(){X("running amazon-append.HMG-US.js"),a.listen(window,ft.join(" "),(function(){return vt(document)})),G(vt,"".concat(z," US")),vt(document,!0)},gt=at("amazon.es/"),pt=function(){X("running amazon-append.MAG-ES.js"),G(gt,"".concat(z," ES")),gt(document,!0)},ht=at("amazon.it/"),bt=function(){X("running amazon-append.MAG-IT.js"),G(ht,"".concat(z," IT")),ht(document,!0)},yt=at("amazon.co.uk/"),wt=function(){X("running amazon-append.MAG-UK.js"),!0!==O().isARB?(G(yt,"".concat(z," UK")),yt(document,!0)):W("SKIP: ARB detected")},At=at("amazon.co.uk/",{getSrcVal:function(){return""},buildAscSubTag:function(){return""}}),kt=function(){X("running amazon-append.MAG-UK-Forums.js"),G(At,"".concat(z," UK-Forums")),At(document,!0)},St=U(z);M((function(){var t,e,n,r;if(St)W("`disableAffiliateBundle` detected! Amazon is disabled");else{var i=O();W("HRST",i);var a=(null==i||null===(t=i.commerce)||void 0===t||null===(e=t.affiliate)||void 0===e||null===(n=e.amazon)||void 0===n?void 0:n.market)||!1;if(null==i||null===(r=i.article)||void 0===r?void 0:r.hideAffiliates)W("HRST.article.hideAffiliates detected: Amazon is disabled");else{var o=function(t){switch(t){case"HMG-US":case"HMG-INTL":return mt;case"MAG-ES":return pt;case"MAG-IT":return bt;case"MAG-UK":return wt;case"MAG-UK-Forums":return kt;default:return W("getMarketRunner<ERROR> unidentified market",t),null}}(a);o?(W("RUN FOR MARKET ".concat(a)),st(o)):W("market did found for affiliate amazon:",a)}}}));var Ot=function(t){for(var e="_amznClk=",n=document.cookie.split(";"),r=0;r<n.length;r+=1){for(var i=n[r];" "===i.charAt(0);)i=i.substring(1,i.length);if(0===i.indexOf(e)){var a=i.substring(e.length,i.length);if(t===(a=a.split("-"))[0])return a.shift(1),a.join("-")}}return""},Rt=function(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];f.apply(void 0,["🉐 ".concat(H,":")].concat(e))},_t=function(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];s.apply(void 0,["🉐 ".concat(H,":")].concat(e))};ot();var Et=['a[data-affiliate-url*="click.linksynergy.com"]'].join(","),Pt='a[data-affiliate-url*="click.linksynergy.com"]:not([data-rakuten-tracking])',Tt=U(H),Ct=function(t){if(function(t){var e,n=R(t);return Rt("isRakuten",n),"Rakuten"===(null==n||null===(e=n.network)||void 0===e?void 0:e.name)}(t)){Rt("handleRakutenDOM",t);var e=O(),n=function(t){var e=r("HRST.article.id",window,!1),n=function(){var t=c("utm_campaign");if(t)return t;var e=i.get("gpt_utm");if(e){var n=JSON.parse(e);if(n.campaign)return n.campaign}return c("src")||i.get("gpt_src")||""}(),a=c("fbclid")||Ot("fbclid"),o=c("gclid")||Ot("gclid"),l=c("msclkid")||Ot("msclkid"),d="";if(e&&t){var s=e.split("."),f=s[1].substring(0,1);return"l"===f&&(f="g"),e="".concat(t,".").concat(f,".").concat(s[2]),o&&(d=u(o)),a&&(d=u(a)),l&&(d=u(l)),"[artid|".concat(e,"[src|").concat(n,"[ch|").concat(d)}return""}(r("site.icxSiteId",e,""));if(!n)return void _t("handleRakutenDOM - subtagVal is empty",t);t.setAttribute("href",function(t,e){if(!e)return t;var n=new URL(t);return n.searchParams.set("u1",e),n.toString()}(t.dataset.affiliateUrl,n)),t.setAttribute("data-rakuten-tracking",n)}else _t("handleRakutenDOM - ignored",t)},Dt=new Set,jt=I((function(t){var e=arguments.length>1&&void 0!==arguments[1]&&arguments[1];Rt("handleObserver",t,e);var n=k(t,e?Et:Pt);if(n.length){_t("found elements",n),n.forEach(Ct);var r=n.filter((function(t){return!Dt.has(t)}));r.length&&(ut(Ct,r),r.forEach((function(t){return Dt.add(t)})))}}),K,!1,A,H),Nt=function(){if(!Tt)return ct()?void function(){var t=O();Rt("HRST",t),r("article.hideAffiliates",t,!1)||(G(jt,H),L(Ct,H),jt(document,!0))}():(Rt("GDPR has not been accepted"),void dt());_t("`disableAffiliateBundle` detected! Rakuten is disabled")};M(Nt);var Gt=function(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];f.apply(void 0,["".concat(x,":")].concat(e))},Lt=function(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];s.apply(void 0,["".concat(x,":")].concat(e))},It=function(t){var e;Lt("running skimlinks.HMG-US.js");var n=null!==(e=window.HRST)&&void 0!==e?e:{};if(!document.location.search.match(/arb_video_na/i)&&!0!==n.isARB&&"videohub"!==r("article.template",n,"")){var i=_(t,"url");""!==i&&setTimeout((function(){l(i,null)}),3e3)}},Ut=function(t){Lt("running skimlinks.MAG-ES.js");var e=_(t,"url");e&&setTimeout((function(){l(e,null)}),3e3)},Mt=function(t){Lt("running skimlinks.MAG-IT.js");var e=_(t,"url");e&&setTimeout((function(){l(e,null)}),3e3)},zt=function(t){if(Lt("running skimlinks.MAG-TW.js"),!document.location.search.match(/arb_video_na/i)){var e=_(t,"url");document.querySelectorAll([".content-container a.body-btn-link",".content-container a.product-btn-link"].join(", ")).forEach((function(t){var e=t.getAttribute("href"),n=t.getAttribute("data-href");e&&!n&&t.setAttribute("data-href",e)})),""!==e&&setTimeout((function(){l(e,null)}),3e3)}},Ht=function(t){Lt("running skimlinks.MAG-NL.js");var e=_(t,"url");e&&setTimeout((function(){l(e,null)}),3e3)},xt=function(t){var e;Lt("running skimlinks.MAG-UK.js");var n=null!==(e=window.HRST)&&void 0!==e?e:{};if(!document.location.search.match(/arb_video_na/i)&&!0!==n.isARB){var r=_(t,"url");i(),function t(){a.listen(window,["app.slideshow.slide-change","load.app.shopamazon","embedded_gallery.event.slide_change","app.contentLazyLoaded"].join(" "),(function(){setTimeout(i,200)})),setTimeout(t,250)}(),""!==r&&(window.skimlinks_settings={skimlinks_exclude:["hearstmagazines.co.uk"]},setTimeout((function(){l(r,null)}),3e3))}function i(){document.querySelectorAll([".content-container a.body-btn-link",".content-container a.product-btn-link"].join(", ")).forEach((function(t){var e=t.getAttribute("href"),n=t.getAttribute("data-href");e&&!n&&t.setAttribute("data-href",e)}))}},Bt=function(t){Lt("running skimlinks.CD.js");var e=_(t,"url");e&&setTimeout((function(){l(e,null)}),3e3)},Kt=U(x),Ft=['a[href^="https://go.redirectingat.com"]:not([data-skimlinks-tracking])','a[href^="https://go.skimresources.com"]:not([data-skimlinks-tracking])'].join(","),$t=['a[href^="https://go.redirectingat.com"]','a[href^="https://go.skimresources.com"]'].join(",");ot();var qt=function(t){if(!t.hasAttribute("data-skimlinks-tracking")){var e=t.href;if(/^(http(s)?:\/\/)?(go.redirectingat.com|go.skimresources.com)/.test(e)){var n=new URL(e);n.searchParams.set("sref",document.location.href),n.searchParams.set("xs",1);var r=t.getAttribute("href"),i=t.getAttribute("data-href");r&&!i&&t.setAttribute("data-href",r);var a=N(t);n.searchParams.get("xcust")||n.searchParams.set("xcust",a),t.setAttribute("data-skimlinks-tracking",a),t.setAttribute("href",n.href),Gt("handleSKimlinksDOM",t)}}},Jt=new Set,Vt=I((function(t){var e=arguments.length>1&&void 0!==arguments[1]&&arguments[1];Gt("handleObserver",t,e);var n=k(t,e?$t:Ft);if(n.length){Lt("found elements",n),n.forEach(qt);var r=n.filter((function(t){return!Jt.has(t)}));r.length&&(ut(qt,r),r.forEach((function(t){return Jt.add(t)})))}}),K,!1,A,x),Xt=function(){var t,e,n,r;if(Kt)Lt("`disableAffiliateBundle` detected! Skimlinks is disabled");else{var i=O();if(Gt("HRST",i),null==i||null===(t=i.article)||void 0===t||!t.hideAffiliates){Gt("site.metadata.commerce",null==i?void 0:i.commerce);var a=null==i||null===(e=i.commerce)||void 0===e||null===(n=e.affiliate)||void 0===n?void 0:n.skimlinks;if(null==a||!a.disabled){Gt("GDPR_CONSENT_GROUPS and GDPR: ",window.GDPR_CONSENT_GROUPS,window.GDPR),ct()&&(Lt("prepareTrackingData"),G(Vt,x),Vt(document,!0));var o=null!==(r=null==a?void 0:a.market)&&void 0!==r?r:"";if(_(a,"url"))if(o){Lt("found market ".concat(o,". skimlinks:"),a);var c={"HMG-US":{func:It},"MAG-ES":{func:Ut},"MAG-IT":{func:Mt},"MAG-NL":{func:Ht},"MAG-UK":{func:xt},"MAG-TW":{func:zt},CD:{func:Bt}}[o];c&&st((function(){return c.func(a)}))}else Lt("market did not found. skimlinks:",a);else Lt("url not defined !!!")}}}};M(Xt);var Wt=function(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];f.apply(void 0,["".concat(B,":")].concat(e))},Yt=function(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];s.apply(void 0,["".concat(B,":")].concat(e))},Zt=["data"];function Qt(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function te(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?Qt(Object(n),!0).forEach((function(e){ee(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Qt(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function ee(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var ne=function(t){var e=t.data,n=te(te({},function(t,e){if(null==t)return{};var n,r,i=function(t,e){if(null==t)return{};var n,r,i={},a=Object.keys(t);for(r=0;r<a.length;r++)n=a[r],e.indexOf(n)>=0||(i[n]=t[n]);return i}(t,e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(r=0;r<a.length;r++)n=a[r],e.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}(t,Zt)),{},{data:encodeURIComponent(JSON.stringify(e))}),r=JSON.stringify(n);Yt("fireBeacon",n),navigator.sendBeacon("https://bzp3elaaaj.execute-api.us-east-1.amazonaws.com/Prod/write",r)};function re(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function ie(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?re(Object(n),!0).forEach((function(e){ae(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):re(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function ae(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function oe(t){return function(t){if(Array.isArray(t))return le(t)}(t)||function(t){if("undefined"!=typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}(t)||ce(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function ce(t,e){if(t){if("string"==typeof t)return le(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?le(t,e):void 0}}function le(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}var ue=O(),de=["{xid}",encodeURI("{xid}")],se=["{subid}",encodeURI("{subid}")],fe=function(t){try{return oe(new URL(t).searchParams.entries()).reduce((function(t,e){var n,r,i=(r=2,function(t){if(Array.isArray(t))return t}(n=e)||function(t,e){var n=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=n){var r,i,a=[],o=!0,c=!1;try{for(n=n.call(t);!(o=(r=n.next()).done)&&(a.push(r.value),!e||a.length!==e);o=!0);}catch(t){c=!0,i=t}finally{try{o||null==n.return||n.return()}finally{if(c)throw i}}return a}}(n,r)||ce(n,r)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()),a=i[0],o=i[1];return ie(ie({},t),{},ae({},a,o))}),{})}catch(t){return{}}},ve=function(t){var e,n;return"Trackonomics"===(null===(e=R(t))||void 0===e||null===(n=e.network)||void 0===n?void 0:n.name)},me=function(t){var e,n,r=t.getAttribute("data-trackonomics-xid");return r||(e=function(t){for(var e="",n="abcdefghijklmnopqrstuvwxyz",r=n.length,i=0;i<3;i+=1)e+=n.charAt(Math.floor(Math.random()*r));return e}(),n=Date.now(),r="fr".concat(n).concat(e),t.setAttribute("data-trackonomics-xid",r)),r},ge=function(t){var e,n,r,i,a,o,c,l,u,d,s,f,v,m=R(t),g=null!==(e=null==m||null===(n=m.product_metadata)||void 0===n?void 0:n.network_name)&&void 0!==e?e:null==m||null===(r=m.metadata)||void 0===r||null===(i=r.trackonomics)||void 0===i?void 0:i.network_name;g=null===(a=g)||void 0===a?void 0:a.toLowerCase();var p="hearstcorp_9eb67",h=null!==(o=null==ue||null===(c=ue.commerce)||void 0===c||null===(l=c.affiliate)||void 0===l||null===(u=l.trackonomics)||void 0===u?void 0:u.cipd2)&&void 0!==o?o:"TEMPLATEERROR",b="".concat(p,"_").concat(h),y=j(t);y.contentProductId=t.getAttribute("data-vars-ga-product-id"),y.productRetailerId=t.getAttribute("data-vars-ga-product-retailer-id"),y.mediaRole=t.getAttribute("data-vars-ga-media-role"),y.callToAction=t.getAttribute("data-vars-ga-call-to-action"),y.productBrand=t.getAttribute("data-vars-ga-product-brand"),y.productPrice=t.getAttribute("data-vars-ga-product-price"),y.sem3Brand=t.getAttribute("data-vars-ga-product-sem3-brand"),y.sem3Category=t.getAttribute("data-vars-ga-product-sem3-category"),y.sem3Id=t.getAttribute("data-vars-ga-product-sem3-id"),/^(psv|mr\d).*$/.test(t.getAttribute("data-vars-ga-link-treatment"))||(y.linkTreatment=t.getAttribute("data-vars-ga-link-treatment"));var w=me(t);return{env:p,id:w,app_key:"gsd65fgr0hgTTT",property_id:"PROPERTY_ID",customer_id:b,cidp1:p,cidp2:h,event_type:"click",network:g,data:{attr_forwarding:fe(window.location.href),metadata:y,property_id:"PROPERTY_ID",customer_id:b,cidp1:p,cidp2:h,source:window.location.href,event_type:"click",referrer:null!==(d=document.referrer)&&void 0!==d?d:"",uuid:w,link_replaced:!1,anchor_orig:null!==(s=null==m||null===(f=m.product_metadata)||void 0===f||null===(v=f[null==m?void 0:m.site_id])||void 0===v?void 0:v.link)&&void 0!==s?s:"TEMPLATEERROR",client_time:(new Date).toISOString(),anchor_id:t.getAttribute("data-vars-ga-product-id"),anchor_href:t.href,anchor_label:t.getAttribute("data-vars-ga-call-to-action"),page_title:document.title,spot_id:"",network:g}}},pe=U(B),he=null;ot();var be=function(t){ve(t.target)&&(Yt("focusAnchor",t),he=t.target,t.stopPropagation())},ye=function(t){ve(t.target)&&(Yt("blurAnchor",t),he=null,t.stopPropagation())};document.addEventListener("visibilitychange",(function(t){if("hidden"===document.visibilityState&&he){var e=ge(he);Yt("handleNav: linkData",e),ne(e),Yt("handleNav: request complete",t)}}));var we=function(t){var e,n,r,i,a,o,c,l,u;if(!ve(t))return!1;if(t.hasAttribute("data-trackonomics-tracking"))return!1;Wt("> handleTrackonomicsDOM 🔥",t),r=t,i=me(t),u=null!==(a=null==ue||null===(o=ue.commerce)||void 0===o||null===(c=o.affiliate)||void 0===c||null===(l=c.trackonomics)||void 0===l?void 0:l.cipd2)&&void 0!==a?a:"TEMPLATEERROR",["href","data-affiliate-url"].forEach((function(t){var e=r.getAttribute(t);void 0!==e?null!=e&&(de.forEach((function(t){e=e.replace(t,i)})),se.forEach((function(t){e=e.replace(t,u)})),r.setAttribute(t,e)):function(){for(var t,e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];(t=console).error.apply(t,["".concat(B,":")].concat(n))}("Could not find ".concat(t," attribute in the node"),r)})),t.addEventListener("click",(function(e){return function(t,e){if(e.shiftKey){Yt("handleClick",t,e);var n=ge(t);Yt("handleClick: linkData",n),t.hasAttribute("gdpr-declined-url")?Yt("handleClick: declined"):(ne(n),Yt("handleClick: fired")),Yt("handleClick: request complete",e)}}(t,e)})),t.addEventListener("touchstart",be),t.addEventListener("mousedown",be),t.addEventListener("mouseenter",be),t.addEventListener("mouseleave",ye),t.addEventListener("contextmenu",(function(e){return function(t,e){Yt("handleRightClick",t,e);var n=ge(t);Yt("handleRightClick: linkData",n),t.hasAttribute("gdpr-declined-url")?Yt("handleClick: declined"):(ne(n),Yt("handleClick: fired")),Yt("handleRightClick: request complete",e)}(t,e)}));var d=R(t),s=null!==(e=null==d||null===(n=d.product_metadata)||void 0===n?void 0:n.link)&&void 0!==e?e:t.getAttribute("data-href");t.setAttribute("data-href",s);var f=N(t);return t.setAttribute("data-trackonomics-tracking",f),t.setAttribute("target","_blank"),!0},Ae=I((function(t){Wt("handleObserver",t);var e=function(t){var e="a[data-affiliate-network]";Wt("searching links by",e);var n=t.reduce((function(t,n){return n.querySelectorAll?[].concat(oe(t),oe(n.querySelectorAll(e))):t}),[]);return oe(new Set(n.filter(ve)))}(t);e.length&&(Yt("found elements",e),e.forEach(we),ut(we,e))}),K,!1,A,B),ke=function(){var t;if(pe)Yt("`disableAffiliateBundle` detected! Trackonomics is disabled");else{if(!ct())return Wt("GDPR has not been accepted"),void dt();Wt("Initializing..");var e=O();Wt("HRST",e),null!=e&&null!==(t=e.article)&&void 0!==t&&t.hideAffiliates?Yt("EXIT: hideAffiliates enabled"):(Wt("GDPR_CONSENT_GROUPS and GDPR:",window.GDPR_CONSENT_GROUPS,window.GDPR),G(Ae,B),L(we,B),Ae(document))}};M(ke),U()||M((function(){var e,n,r,i=O();d&&(t.g.hrstGdprProxy=(e=window.GDPR_CONSENT_GROUPS,void 0===(null==i||null===(n=i.commerce)||void 0===n||null===(r=n.affiliate)||void 0===r?void 0:r.gdpr)&&(i.commerce.affiliate.gdpr={}),i.commerce.affiliate.gdpr.GDPR_CONSENT_GROUPS=e,new Proxy(i.commerce.affiliate.gdpr,{set:function(t,e,n){var r,a,o,c,l,u;t[e]=n,window.GDPR_CONSENT_GROUPS!==(null==i||null===(r=i.commerce)||void 0===r||null===(a=r.affiliate)||void 0===a||null===(o=a.gdpr)||void 0===o?void 0:o.GDPR_CONSENT_GROUPS)?(s("AFFILIATE DEBUG:","GDPR is changed: ",e,n),window.GDPR_CONSENT_GROUPS=null==i||null===(c=i.commerce)||void 0===c||null===(l=c.affiliate)||void 0===l||null===(u=l.gdpr)||void 0===u?void 0:u.GDPR_CONSENT_GROUPS,ct()&&(s("GDPR: revertBackAffiliates"),document.querySelectorAll("a[data-product-url]").forEach((function(t){t.hasAttribute("gdpr-declined-url")&&(t.setAttribute("href",t.getAttribute("gdpr-declined-url")),t.classList.remove("noskim"),t.removeAttribute("gdpr-declined-url"),t.hasAttribute("data-affiliate-url")&&t.getAttribute("data-affiliate-url")&&t.setAttribute("data-affiliate",!0))}))),Xt(),Nt(),ke()):s("AFFILIATE DEBUG:","GDPR nothing to change...")}})))}))}();
//# sourceMappingURL=affiliate-bundle.master.js.map