(window.webpackJsonp=window.webpackJsonp||[]).push([["shared/contenthistory"],{"2021383dc2c60c412d80":function(t,e,n){"use strict";n.r(e),function(t){var r=n("7ec90be294f8945e7663"),s=n("891a19eb7d3552f95f46"),i=n("654adc4d2d3e5dbaee18"),o=window.localStorage,c=function(t){this.contentNamespace=t||"hrst.content.history",this.contentId=r.a.getValue("content.id"),this.logger=new s.a("ContentHistory"),this.addContent()};c.prototype={maxArticles:50,addContent:function(){var e=[];if(this.contentId){try{e=JSON.parse(o.getItem(this.contentNamespace))}catch(t){this.logger.warn("Cannot parse content history. ",t)}t.isArray(e)||(e=[]),e.indexOf(this.contentId)>-1||(e.length>=this.maxArticles&&(e=e.slice(1,this.maxArticles)),e.push(this.contentId),o.setItem(this.contentNamespace,JSON.stringify(e)))}else this.logger.warn("contentId not found.")},filterArticlesFromUserHistory:function(e,n,r){var s,o,c,a=[],h=[],d=[],l=0,f=e.length;if(!t.isArray(e))return h;if((n=~~n)<=0)return e;try{a=JSON.parse(localStorage.getItem(this.contentNamespace))}catch(t){this.logger.warn("Cannot read user content history. ",t)}if(!t.isArray(a))return e.slice(0,n);for(s=0;s<f&&!(l>=n);s+=1)o=Object(i.k)("id",e[s]),c=a.indexOf(o),o&&c<0?(h.push(e[s]),l+=1):d.push({data:e[s],order:c});return r?h.concat(t.pluck(t.sortBy(d,"order"),"data").slice(0,n-h.length)):h.length?h:e.slice(0,n)}},e.default=c}.call(this,n("37047f07c1f267630157"))}}]);
//# sourceMappingURL=contenthistory.6d91faa.js.map