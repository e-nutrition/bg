!function(t){var e={};function n(r){if(e[r])return e[r].exports;var o=e[r]={i:r,l:!1,exports:{}};return t[r].call(o.exports,o,o.exports,n),o.l=!0,o.exports}n.m=t,n.c=e,n.d=function(t,e,r){n.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:r})},n.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},n.t=function(t,e){if(1&e&&(t=n(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var o in t)n.d(r,o,function(e){return t[e]}.bind(null,o));return r},n.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return n.d(e,"a",e),e},n.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},n.p="",n(n.s=32)}([function(t,e){function n(e){return t.exports=n=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},n(e)}t.exports=n},function(t,e,n){"use strict";var r=Object({IDLE_TIME:"180",JAM_URL:"https://jam.hearstapps.com",RUFUS_URL:"https://preferencecenter.hearstmags.com",SENTRY_DSN:"https://cce3aed2efd74e668893f184a39c8290@o31459.ingest.sentry.io/5395964",SENTRY_ENV:"kubeprod",TODAYS_REWARDS_URL:"https://www.todays-rewards.com"}),o=r.IDLE_TIME,i=r.JAM_URL,c=r.RUFUS_URL,a=void 0===c?"":c,s=r.SENTRY_DSN,u=r.SENTRY_ENV,l=r.TODAYS_REWARDS_URL,d=void 0===l?"":l;e.a={cdsOptIn:"H",cdsOptOut:"N",collapseScrollThreshold:100,daysToExpireHiddenCookie:365,daysToExpirePaywallView:30,daysToExpireViewsCookie:365,daysToHideModalNewsletterAfterView:30,daysToHideNewsletter:365,daysToHideTodaysRewards:30,hiddenCookieName:"journeyHidden",hiddenCookieTemplates:["journey-inline-newsletter","journey-modal-newsletter","journey-inline-todays-rewards"],idleTime:Number.parseInt(o,10),inViewThreshold:.2,jamUrl:i,rufusUrl:"".concat(a.replace(/\/$/,""),"/api/preference/signup"),sentryDsn:s,sentryEnv:u,todaysRewardsUrl:"".concat(d.replace(/\/$/,""),"/"),viewsCookieName:"journeyViews"}},function(t,e,n){var r=n(20);function o(e,n,i){return"undefined"!=typeof Reflect&&Reflect.get?t.exports=o=Reflect.get:t.exports=o=function(t,e,n){var o=r(t,e);if(o){var i=Object.getOwnPropertyDescriptor(o,e);return i.get?i.get.call(n):i.value}},o(e,n,i||e)}t.exports=o},function(t,e){t.exports=function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}},function(t,e){function n(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}t.exports=function(t,e,r){return e&&n(t.prototype,e),r&&n(t,r),t}},function(t,e,n){var r=n(11);t.exports=function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&r(t,e)}},function(t,e,n){var r=n(12),o=n(7);t.exports=function(t,e){return!e||"object"!==r(e)&&"function"!=typeof e?o(t):e}},function(t,e){t.exports=function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}},function(t,e){t.exports=function(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}},function(t,e){t.exports={getNestedValue:function(t,e){return e.reduce((function(t,e){return(t||{})[e]}),t)}}},function(t,e,n){var r=n(26),o=n(27),i=n(28),c=n(30);t.exports=function(t,e){return r(t)||o(t,e)||i(t,e)||c()}},function(t,e){function n(e,r){return t.exports=n=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t},n(e,r)}t.exports=n},function(t,e){function n(e){return"function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?t.exports=n=function(t){return typeof t}:t.exports=n=function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},n(e)}t.exports=n},function(t,e){var n={utf8:{stringToBytes:function(t){return n.bin.stringToBytes(unescape(encodeURIComponent(t)))},bytesToString:function(t){return decodeURIComponent(escape(n.bin.bytesToString(t)))}},bin:{stringToBytes:function(t){for(var e=[],n=0;n<t.length;n++)e.push(255&t.charCodeAt(n));return e},bytesToString:function(t){for(var e=[],n=0;n<t.length;n++)e.push(String.fromCharCode(t[n]));return e.join("")}}};t.exports=n},function(t,e,n){var r=n(19);t.exports=function(t,e){if(null==t)return{};var n,o,i=r(t,e);if(Object.getOwnPropertySymbols){var c=Object.getOwnPropertySymbols(t);for(o=0;o<c.length;o++)n=c[o],e.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}},function(t,e){!function(){"use strict";if("object"==typeof window)if("IntersectionObserver"in window&&"IntersectionObserverEntry"in window&&"intersectionRatio"in window.IntersectionObserverEntry.prototype)"isIntersecting"in window.IntersectionObserverEntry.prototype||Object.defineProperty(window.IntersectionObserverEntry.prototype,"isIntersecting",{get:function(){return this.intersectionRatio>0}});else{var t=function(t){for(var e=window.document,n=o(e);n;)n=o(e=n.ownerDocument);return e}(),e=[],n=null,r=null;c.prototype.THROTTLE_TIMEOUT=100,c.prototype.POLL_INTERVAL=null,c.prototype.USE_MUTATION_OBSERVER=!0,c._setupCrossOriginUpdater=function(){return n||(n=function(t,n){r=t&&n?d(t,n):{top:0,bottom:0,left:0,right:0,width:0,height:0},e.forEach((function(t){t._checkForIntersections()}))}),n},c._resetCrossOriginUpdater=function(){n=null,r=null},c.prototype.observe=function(t){if(!this._observationTargets.some((function(e){return e.element==t}))){if(!t||1!=t.nodeType)throw new Error("target must be an Element");this._registerInstance(),this._observationTargets.push({element:t,entry:null}),this._monitorIntersections(t.ownerDocument),this._checkForIntersections()}},c.prototype.unobserve=function(t){this._observationTargets=this._observationTargets.filter((function(e){return e.element!=t})),this._unmonitorIntersections(t.ownerDocument),0==this._observationTargets.length&&this._unregisterInstance()},c.prototype.disconnect=function(){this._observationTargets=[],this._unmonitorAllIntersections(),this._unregisterInstance()},c.prototype.takeRecords=function(){var t=this._queuedEntries.slice();return this._queuedEntries=[],t},c.prototype._initThresholds=function(t){var e=t||[0];return Array.isArray(e)||(e=[e]),e.sort().filter((function(t,e,n){if("number"!=typeof t||isNaN(t)||t<0||t>1)throw new Error("threshold must be a number between 0 and 1 inclusively");return t!==n[e-1]}))},c.prototype._parseRootMargin=function(t){var e=(t||"0px").split(/\s+/).map((function(t){var e=/^(-?\d*\.?\d+)(px|%)$/.exec(t);if(!e)throw new Error("rootMargin must be specified in pixels or percent");return{value:parseFloat(e[1]),unit:e[2]}}));return e[1]=e[1]||e[0],e[2]=e[2]||e[0],e[3]=e[3]||e[1],e},c.prototype._monitorIntersections=function(e){var n=e.defaultView;if(n&&-1==this._monitoringDocuments.indexOf(e)){var r=this._checkForIntersections,i=null,c=null;this.POLL_INTERVAL?i=n.setInterval(r,this.POLL_INTERVAL):(a(n,"resize",r,!0),a(e,"scroll",r,!0),this.USE_MUTATION_OBSERVER&&"MutationObserver"in n&&(c=new n.MutationObserver(r)).observe(e,{attributes:!0,childList:!0,characterData:!0,subtree:!0})),this._monitoringDocuments.push(e),this._monitoringUnsubscribes.push((function(){var t=e.defaultView;t&&(i&&t.clearInterval(i),s(t,"resize",r,!0)),s(e,"scroll",r,!0),c&&c.disconnect()}));var u=this.root&&(this.root.ownerDocument||this.root)||t;if(e!=u){var l=o(e);l&&this._monitorIntersections(l.ownerDocument)}}},c.prototype._unmonitorIntersections=function(e){var n=this._monitoringDocuments.indexOf(e);if(-1!=n){var r=this.root&&(this.root.ownerDocument||this.root)||t;if(!this._observationTargets.some((function(t){var n=t.element.ownerDocument;if(n==e)return!0;for(;n&&n!=r;){var i=o(n);if((n=i&&i.ownerDocument)==e)return!0}return!1}))){var i=this._monitoringUnsubscribes[n];if(this._monitoringDocuments.splice(n,1),this._monitoringUnsubscribes.splice(n,1),i(),e!=r){var c=o(e);c&&this._unmonitorIntersections(c.ownerDocument)}}}},c.prototype._unmonitorAllIntersections=function(){var t=this._monitoringUnsubscribes.slice(0);this._monitoringDocuments.length=0,this._monitoringUnsubscribes.length=0;for(var e=0;e<t.length;e++)t[e]()},c.prototype._checkForIntersections=function(){if(this.root||!n||r){var t=this._rootIsInDom(),e=t?this._getRootRect():{top:0,bottom:0,left:0,right:0,width:0,height:0};this._observationTargets.forEach((function(r){var o=r.element,c=u(o),a=this._rootContainsTarget(o),s=r.entry,l=t&&a&&this._computeTargetAndRootIntersection(o,c,e),d=null;this._rootContainsTarget(o)?n&&!this.root||(d=e):d={top:0,bottom:0,left:0,right:0,width:0,height:0};var f=r.entry=new i({time:window.performance&&performance.now&&performance.now(),target:o,boundingClientRect:c,rootBounds:d,intersectionRect:l});s?t&&a?this._hasCrossedThreshold(s,f)&&this._queuedEntries.push(f):s&&s.isIntersecting&&this._queuedEntries.push(f):this._queuedEntries.push(f)}),this),this._queuedEntries.length&&this._callback(this.takeRecords(),this)}},c.prototype._computeTargetAndRootIntersection=function(e,o,i){if("none"!=window.getComputedStyle(e).display){for(var c,a,s,l,f,p,y,v,m=o,g=h(e),b=!1;!b&&g;){var w=null,E=1==g.nodeType?window.getComputedStyle(g):{};if("none"==E.display)return null;if(g==this.root||9==g.nodeType)if(b=!0,g==this.root||g==t)n&&!this.root?!r||0==r.width&&0==r.height?(g=null,w=null,m=null):w=r:w=i;else{var k=h(g),j=k&&u(k),_=k&&this._computeTargetAndRootIntersection(k,j,i);j&&_?(g=k,w=d(j,_)):(g=null,m=null)}else{var O=g.ownerDocument;g!=O.body&&g!=O.documentElement&&"visible"!=E.overflow&&(w=u(g))}if(w&&(c=w,a=m,s=void 0,l=void 0,f=void 0,p=void 0,y=void 0,v=void 0,s=Math.max(c.top,a.top),l=Math.min(c.bottom,a.bottom),f=Math.max(c.left,a.left),p=Math.min(c.right,a.right),v=l-s,m=(y=p-f)>=0&&v>=0&&{top:s,bottom:l,left:f,right:p,width:y,height:v}||null),!m)break;g=g&&h(g)}return m}},c.prototype._getRootRect=function(){var e;if(this.root&&!p(this.root))e=u(this.root);else{var n=p(this.root)?this.root:t,r=n.documentElement,o=n.body;e={top:0,left:0,right:r.clientWidth||o.clientWidth,width:r.clientWidth||o.clientWidth,bottom:r.clientHeight||o.clientHeight,height:r.clientHeight||o.clientHeight}}return this._expandRectByRootMargin(e)},c.prototype._expandRectByRootMargin=function(t){var e=this._rootMarginValues.map((function(e,n){return"px"==e.unit?e.value:e.value*(n%2?t.width:t.height)/100})),n={top:t.top-e[0],right:t.right+e[1],bottom:t.bottom+e[2],left:t.left-e[3]};return n.width=n.right-n.left,n.height=n.bottom-n.top,n},c.prototype._hasCrossedThreshold=function(t,e){var n=t&&t.isIntersecting?t.intersectionRatio||0:-1,r=e.isIntersecting?e.intersectionRatio||0:-1;if(n!==r)for(var o=0;o<this.thresholds.length;o++){var i=this.thresholds[o];if(i==n||i==r||i<n!=i<r)return!0}},c.prototype._rootIsInDom=function(){return!this.root||f(t,this.root)},c.prototype._rootContainsTarget=function(e){var n=this.root&&(this.root.ownerDocument||this.root)||t;return f(n,e)&&(!this.root||n==e.ownerDocument)},c.prototype._registerInstance=function(){e.indexOf(this)<0&&e.push(this)},c.prototype._unregisterInstance=function(){var t=e.indexOf(this);-1!=t&&e.splice(t,1)},window.IntersectionObserver=c,window.IntersectionObserverEntry=i}function o(t){try{return t.defaultView&&t.defaultView.frameElement||null}catch(t){return null}}function i(t){this.time=t.time,this.target=t.target,this.rootBounds=l(t.rootBounds),this.boundingClientRect=l(t.boundingClientRect),this.intersectionRect=l(t.intersectionRect||{top:0,bottom:0,left:0,right:0,width:0,height:0}),this.isIntersecting=!!t.intersectionRect;var e=this.boundingClientRect,n=e.width*e.height,r=this.intersectionRect,o=r.width*r.height;this.intersectionRatio=n?Number((o/n).toFixed(4)):this.isIntersecting?1:0}function c(t,e){var n,r,o,i=e||{};if("function"!=typeof t)throw new Error("callback must be a function");if(i.root&&1!=i.root.nodeType&&9!=i.root.nodeType)throw new Error("root must be a Document or Element");this._checkForIntersections=(n=this._checkForIntersections.bind(this),r=this.THROTTLE_TIMEOUT,o=null,function(){o||(o=setTimeout((function(){n(),o=null}),r))}),this._callback=t,this._observationTargets=[],this._queuedEntries=[],this._rootMarginValues=this._parseRootMargin(i.rootMargin),this.thresholds=this._initThresholds(i.threshold),this.root=i.root||null,this.rootMargin=this._rootMarginValues.map((function(t){return t.value+t.unit})).join(" "),this._monitoringDocuments=[],this._monitoringUnsubscribes=[]}function a(t,e,n,r){"function"==typeof t.addEventListener?t.addEventListener(e,n,r||!1):"function"==typeof t.attachEvent&&t.attachEvent("on"+e,n)}function s(t,e,n,r){"function"==typeof t.removeEventListener?t.removeEventListener(e,n,r||!1):"function"==typeof t.detatchEvent&&t.detatchEvent("on"+e,n)}function u(t){var e;try{e=t.getBoundingClientRect()}catch(t){}return e?(e.width&&e.height||(e={top:e.top,right:e.right,bottom:e.bottom,left:e.left,width:e.right-e.left,height:e.bottom-e.top}),e):{top:0,bottom:0,left:0,right:0,width:0,height:0}}function l(t){return!t||"x"in t?t:{top:t.top,y:t.top,bottom:t.bottom,left:t.left,x:t.left,right:t.right,width:t.width,height:t.height}}function d(t,e){var n=e.top-t.top,r=e.left-t.left;return{top:n,left:r,height:e.height,width:e.width,bottom:n+e.height,right:r+e.width}}function f(t,e){for(var n=e;n;){if(n==t)return!0;n=h(n)}return!1}function h(e){var n=e.parentNode;return 9==e.nodeType&&e!=t?o(e):(n&&n.assignedSlot&&(n=n.assignedSlot.parentNode),n&&11==n.nodeType&&n.host?n.host:n)}function p(t){return t&&9===t.nodeType}}()},function(t,e,n){var r=n(0),o=n(11),i=n(21),c=n(22);function a(e){var n="function"==typeof Map?new Map:void 0;return t.exports=a=function(t){if(null===t||!i(t))return t;if("function"!=typeof t)throw new TypeError("Super expression must either be null or a function");if(void 0!==n){if(n.has(t))return n.get(t);n.set(t,e)}function e(){return c(t,arguments,r(this).constructor)}return e.prototype=Object.create(t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),o(e,t)},a(e)}t.exports=a},function(t,e,n){var r,o,i,c,a;r=n(24),o=n(13).utf8,i=n(25),c=n(13).bin,(a=function(t,e){t.constructor==String?t=e&&"binary"===e.encoding?c.stringToBytes(t):o.stringToBytes(t):i(t)?t=Array.prototype.slice.call(t,0):Array.isArray(t)||t.constructor===Uint8Array||(t=t.toString());for(var n=r.bytesToWords(t),s=8*t.length,u=1732584193,l=-271733879,d=-1732584194,f=271733878,h=0;h<n.length;h++)n[h]=16711935&(n[h]<<8|n[h]>>>24)|4278255360&(n[h]<<24|n[h]>>>8);n[s>>>5]|=128<<s%32,n[14+(s+64>>>9<<4)]=s;var p=a._ff,y=a._gg,v=a._hh,m=a._ii;for(h=0;h<n.length;h+=16){var g=u,b=l,w=d,E=f;u=p(u,l,d,f,n[h+0],7,-680876936),f=p(f,u,l,d,n[h+1],12,-389564586),d=p(d,f,u,l,n[h+2],17,606105819),l=p(l,d,f,u,n[h+3],22,-1044525330),u=p(u,l,d,f,n[h+4],7,-176418897),f=p(f,u,l,d,n[h+5],12,1200080426),d=p(d,f,u,l,n[h+6],17,-1473231341),l=p(l,d,f,u,n[h+7],22,-45705983),u=p(u,l,d,f,n[h+8],7,1770035416),f=p(f,u,l,d,n[h+9],12,-1958414417),d=p(d,f,u,l,n[h+10],17,-42063),l=p(l,d,f,u,n[h+11],22,-1990404162),u=p(u,l,d,f,n[h+12],7,1804603682),f=p(f,u,l,d,n[h+13],12,-40341101),d=p(d,f,u,l,n[h+14],17,-1502002290),u=y(u,l=p(l,d,f,u,n[h+15],22,1236535329),d,f,n[h+1],5,-165796510),f=y(f,u,l,d,n[h+6],9,-1069501632),d=y(d,f,u,l,n[h+11],14,643717713),l=y(l,d,f,u,n[h+0],20,-373897302),u=y(u,l,d,f,n[h+5],5,-701558691),f=y(f,u,l,d,n[h+10],9,38016083),d=y(d,f,u,l,n[h+15],14,-660478335),l=y(l,d,f,u,n[h+4],20,-405537848),u=y(u,l,d,f,n[h+9],5,568446438),f=y(f,u,l,d,n[h+14],9,-1019803690),d=y(d,f,u,l,n[h+3],14,-187363961),l=y(l,d,f,u,n[h+8],20,1163531501),u=y(u,l,d,f,n[h+13],5,-1444681467),f=y(f,u,l,d,n[h+2],9,-51403784),d=y(d,f,u,l,n[h+7],14,1735328473),u=v(u,l=y(l,d,f,u,n[h+12],20,-1926607734),d,f,n[h+5],4,-378558),f=v(f,u,l,d,n[h+8],11,-2022574463),d=v(d,f,u,l,n[h+11],16,1839030562),l=v(l,d,f,u,n[h+14],23,-35309556),u=v(u,l,d,f,n[h+1],4,-1530992060),f=v(f,u,l,d,n[h+4],11,1272893353),d=v(d,f,u,l,n[h+7],16,-155497632),l=v(l,d,f,u,n[h+10],23,-1094730640),u=v(u,l,d,f,n[h+13],4,681279174),f=v(f,u,l,d,n[h+0],11,-358537222),d=v(d,f,u,l,n[h+3],16,-722521979),l=v(l,d,f,u,n[h+6],23,76029189),u=v(u,l,d,f,n[h+9],4,-640364487),f=v(f,u,l,d,n[h+12],11,-421815835),d=v(d,f,u,l,n[h+15],16,530742520),u=m(u,l=v(l,d,f,u,n[h+2],23,-995338651),d,f,n[h+0],6,-198630844),f=m(f,u,l,d,n[h+7],10,1126891415),d=m(d,f,u,l,n[h+14],15,-1416354905),l=m(l,d,f,u,n[h+5],21,-57434055),u=m(u,l,d,f,n[h+12],6,1700485571),f=m(f,u,l,d,n[h+3],10,-1894986606),d=m(d,f,u,l,n[h+10],15,-1051523),l=m(l,d,f,u,n[h+1],21,-2054922799),u=m(u,l,d,f,n[h+8],6,1873313359),f=m(f,u,l,d,n[h+15],10,-30611744),d=m(d,f,u,l,n[h+6],15,-1560198380),l=m(l,d,f,u,n[h+13],21,1309151649),u=m(u,l,d,f,n[h+4],6,-145523070),f=m(f,u,l,d,n[h+11],10,-1120210379),d=m(d,f,u,l,n[h+2],15,718787259),l=m(l,d,f,u,n[h+9],21,-343485551),u=u+g>>>0,l=l+b>>>0,d=d+w>>>0,f=f+E>>>0}return r.endian([u,l,d,f])})._ff=function(t,e,n,r,o,i,c){var a=t+(e&n|~e&r)+(o>>>0)+c;return(a<<i|a>>>32-i)+e},a._gg=function(t,e,n,r,o,i,c){var a=t+(e&r|n&~r)+(o>>>0)+c;return(a<<i|a>>>32-i)+e},a._hh=function(t,e,n,r,o,i,c){var a=t+(e^n^r)+(o>>>0)+c;return(a<<i|a>>>32-i)+e},a._ii=function(t,e,n,r,o,i,c){var a=t+(n^(e|~r))+(o>>>0)+c;return(a<<i|a>>>32-i)+e},a._blocksize=16,a._digestsize=16,t.exports=function(t,e){if(null==t)throw new Error("Illegal argument "+t);var n=r.wordsToBytes(a(t,e));return e&&e.asBytes?n:e&&e.asString?c.bytesToString(n):r.bytesToHex(n)}},function(t,e,n){"use strict";(function(t){var r=n(8),o=n.n(r),i=n(10),c=n.n(i),a=n(1);function s(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function u(t){for(var e,n=1;n<arguments.length;n++)e=null==arguments[n]?{}:arguments[n],n%2?s(Object(e),!0).forEach((function(n){o()(t,n,e[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(e)):s(Object(e)).forEach((function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(e,n))}));return t}var l=/^(?:(\w+):)\/\/(?:(\w+)(?::(\w+))?@)([\w.-]+)(?::(\d+))?\/(.+)/,d=function(){return"xxxxxxxxxxxx4xxxyxxxxxxxxxxxxxxx".replace(/[xy]/g,(function(t){var e=0|16*Math.random();return("x"===t?e:8|3&e).toString(16)}))},f=function(){var t=l.exec(a.a.sentryDsn);if(!t)return null;var e=t.slice(1),n=c()(e,6),r=n[0],o=n[1],i=(n[2],n[3]),s=n[4],u=void 0===s?"":s,d="",f=n[5],h=f.split("/");if(1<h.length&&(d=h.slice(0,-1).join("/"),f=h.pop()),f){var p=f.match(/^\d+/);if(p)f=c()(p,1)[0]}var y="".concat(r,"://").concat(i).concat(u?":".concat(u):"").concat(d?"/".concat(d):"","/api/"),v="".concat(y).concat(f,"/store/");return"".concat(v,"?sentry_key=").concat(encodeURIComponent(o),"&sentry_version=7")},h=function(t){return t.replace(/([a-zA-Z0-9._-]+@[a-zA-Z0-9._-]+\.[a-zA-Z0-9_-]+)/gi,"[filtered]")};e.a=function(e,n){var r=2<arguments.length&&void 0!==arguments[2]?arguments[2]:{},o=3<arguments.length&&void 0!==arguments[3]?arguments[3]:{},i=f();if(i){var c=t.document||{},s=c.referrer,l=t.navigator||{},p=l.userAgent,y=u(u({},s&&{Referer:s}),p&&{"User-Agent":p}),v={breadcrumbs:void 0,contexts:{"JAM Data":o},environment:a.a.sentryEnv,event_id:d(),exception:{values:[{type:"RendererError",value:n?h(n):"No error message",mechanism:{handled:!0,type:"generic"}}]},extra:u(u({},r),{},{url:window.location.href}),level:"error",platform:"javascript",timestamp:Date.now()/1e3,transaction:e,request:{url:window.location.href,headers:y}};fetch(i,{body:JSON.stringify(v),method:"POST",referrerPolicy:"origin"})}}}).call(this,n(31))},function(t,e){t.exports=function(t,e){if(null==t)return{};var n,r,o={},i=Object.keys(t);for(r=0;r<i.length;r++)n=i[r],e.indexOf(n)>=0||(o[n]=t[n]);return o}},function(t,e,n){var r=n(0);t.exports=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=r(t)););return t}},function(t,e){t.exports=function(t){return-1!==Function.toString.call(t).indexOf("[native code]")}},function(t,e,n){var r=n(11),o=n(23);function i(e,n,c){return o()?t.exports=i=Reflect.construct:t.exports=i=function(t,e,n){var o=[null];o.push.apply(o,e);var i=new(Function.bind.apply(t,o));return n&&r(i,n.prototype),i},i.apply(null,arguments)}t.exports=i},function(t,e){t.exports=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}},function(t,e){var n,r;n="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",r={rotl:function(t,e){return t<<e|t>>>32-e},rotr:function(t,e){return t<<32-e|t>>>e},endian:function(t){if(t.constructor==Number)return 16711935&r.rotl(t,8)|4278255360&r.rotl(t,24);for(var e=0;e<t.length;e++)t[e]=r.endian(t[e]);return t},randomBytes:function(t){for(var e=[];t>0;t--)e.push(Math.floor(256*Math.random()));return e},bytesToWords:function(t){for(var e=[],n=0,r=0;n<t.length;n++,r+=8)e[r>>>5]|=t[n]<<24-r%32;return e},wordsToBytes:function(t){for(var e=[],n=0;n<32*t.length;n+=8)e.push(t[n>>>5]>>>24-n%32&255);return e},bytesToHex:function(t){for(var e=[],n=0;n<t.length;n++)e.push((t[n]>>>4).toString(16)),e.push((15&t[n]).toString(16));return e.join("")},hexToBytes:function(t){for(var e=[],n=0;n<t.length;n+=2)e.push(parseInt(t.substr(n,2),16));return e},bytesToBase64:function(t){for(var e=[],r=0;r<t.length;r+=3)for(var o=t[r]<<16|t[r+1]<<8|t[r+2],i=0;i<4;i++)8*r+6*i<=8*t.length?e.push(n.charAt(o>>>6*(3-i)&63)):e.push("=");return e.join("")},base64ToBytes:function(t){t=t.replace(/[^A-Z0-9+\/]/gi,"");for(var e=[],r=0,o=0;r<t.length;o=++r%4)0!=o&&e.push((n.indexOf(t.charAt(r-1))&Math.pow(2,-2*o+8)-1)<<2*o|n.indexOf(t.charAt(r))>>>6-2*o);return e}},t.exports=r},function(t,e){function n(t){return!!t.constructor&&"function"==typeof t.constructor.isBuffer&&t.constructor.isBuffer(t)}t.exports=function(t){return null!=t&&(n(t)||function(t){return"function"==typeof t.readFloatLE&&"function"==typeof t.slice&&n(t.slice(0,0))}(t)||!!t._isBuffer)}},function(t,e){t.exports=function(t){if(Array.isArray(t))return t}},function(t,e){t.exports=function(t,e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(t)){var n=[],r=!0,o=!1,i=void 0;try{for(var c,a=t[Symbol.iterator]();!(r=(c=a.next()).done)&&(n.push(c.value),!e||n.length!==e);r=!0);}catch(t){o=!0,i=t}finally{try{r||null==a.return||a.return()}finally{if(o)throw i}}return n}}},function(t,e,n){var r=n(29);t.exports=function(t,e){if(t){if("string"==typeof t)return r(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?r(t,e):void 0}}},function(t,e){t.exports=function(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}},function(t,e){t.exports=function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}},function(t,e){var n;n=function(){return this}();try{n=n||new Function("return this")()}catch(t){"object"==typeof window&&(n=window)}t.exports=n},function(t,e,n){"use strict";n.r(e);var r=n(14),o=n.n(r),i=n(8),c=n.n(i),a=n(15),s=n(3),u=n.n(s),l=n(4),d=n.n(l),f=n(2),h=n.n(f),p=n(5),y=n.n(p),v=n(6),m=n.n(v),g=n(0),b=n.n(g),w=n(7),E=n.n(w),k=n(16),j=n.n(k),_=n(1),O=function(t,e,n){if(!t||!e)return t;var r=encodeURIComponent(e),o=n?"=".concat(encodeURIComponent(n)):"";return"".concat(t).concat(t.includes("?")?"&":"?").concat(r).concat(o)};function S(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function x(t){for(var e,n=1;n<arguments.length;n++)e=null==arguments[n]?{}:arguments[n],n%2?S(Object(e),!0).forEach((function(n){c()(t,n,e[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(e)):S(Object(e)).forEach((function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(e,n))}));return t}function T(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=b()(t);if(e){var o=b()(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return m()(this,n)}}var R=function(t){function e(){var t;return u()(this,e),(t=n.call(this)).shadow=t.attachShadow({mode:"open"}),t.renderContent=t.renderContent.bind(E()(t)),t.dispatchJourneyClickedEvent=t.dispatchJourneyClickedEvent.bind(E()(t)),t}y()(e,t);var n=T(e);return d()(e,[{key:"attachInViewObserver",value:function(){var t=this;new IntersectionObserver((function(e,n){e[0].isIntersecting&&(n.disconnect(),window.dispatchEvent(new CustomEvent("journey-inview",{detail:t.journeyEventData})))}),{threshold:_.a.inViewThreshold}).observe(this)}},{key:"addQueryParamToOfferLinks",value:function(){var t=this;this.shadow.querySelectorAll('a[data-link-type="offer"], a[data-link-type="promo"]').forEach((function(e){return"journey-inline-todays-rewards"===t.templateType?void(e.href=O(e.href,"r",window.location.origin)):void(e.href=O(e.href,"mrefurl",window.location.pathname))}))}},{key:"connectedCallback",value:function(){this.fetchTemplateData().then(this.renderContent)}},{key:"fetchTemplateData",value:function(){var t=this.getTemplateUrl();return t?fetch(t).then((function(t){return t.ok?t.text():Promise.resolve(null)})):Promise.resolve(null)}},{key:"dispatchJourneyDisplayedEvent",value:function(){var t=this.journeyEventData;window.dispatchEvent(new CustomEvent("journey-displayed",{detail:t}))}},{key:"dispatchJourneyAbTestEvent",value:function(){this.abVariationName&&window.dispatchEvent(new CustomEvent("journey-ab-test",{detail:this.journeyEventData}))}},{key:"dispatchDataLayerEvent",value:function(){var t=this.templateType;window.dataLayer=window.dataLayer||[],window.dataLayer.push({event:"".concat(t," displayed")})}},{key:"dispatchJourneyClickedEvent",value:function(t){var e=t.currentTarget.getAttribute("data-link-type"),n=x(x({},this.journeyEventData),{},{linkType:e});window.dispatchEvent(new CustomEvent("journey-clicked",{detail:n}))}},{key:"getAuthUrl",value:function(t){var e=this.data.minorSource,n=encodeURIComponent(window.location.href),r=e?"&minor_source=".concat(encodeURIComponent(e)):"";return"/auth/csrf?action=".concat(t,"&return_url=").concat(n).concat(r)}},{key:"getTemplateUrl",value:function(){var t=this.templateId,e=this.viewsRemaining;if(!t)return null;var n="".concat("https://jam.hearstapps.com","/templates/").concat(t),r=new URLSearchParams(window.location.search).get("journey_draft");return r&&(n=O(n,"draftSlug",r)),e&&(n=O(n,"viewsRemaining",e)),n}},{key:"preventStickyVideo",value:function(){var t=this.targetSelector,e=this.displayMode,n=this.templateType;"#journey-container"===t&&("inline"===e||"modal"===e&&("journey-modal-meter"===n||"journey-modal-blocker"===n))&&(window.pianoOfferDisplayed=!0,window.journeyOfferDisplayed=!0)}},{key:"renderContent",value:function(t){var e=this;if(t){var n=(new DOMParser).parseFromString(t,"text/html").documentElement;this.shadow.appendChild(n),this.addQueryParamToOfferLinks(),this.updateAuthUrls(),this.attachInViewObserver(),this.dispatchJourneyDisplayedEvent(),this.dispatchJourneyAbTestEvent(),this.dispatchDataLayerEvent(),this.preventStickyVideo(),this.links.forEach((function(t){t.addEventListener("click",e.dispatchJourneyClickedEvent)}))}}},{key:"updateAuthUrls",value:function(){var t=this,e=this.isSignedIn;this.shadow.querySelectorAll("a[data-link-type='login']").forEach((function(n){return e?void n.parentNode.removeChild(n):void(n.href=t.getAuthUrl("login"))})),this.shadow.querySelectorAll("a[data-link-type='signup']").forEach((function(e){e.href=t.getAuthUrl("signup")}))}},{key:"abVariationName",get:function(){return this.getAttribute("data-ab-variation-name")}},{key:"collapsed",get:function(){return"true"===this.getAttribute("data-collapsed")}},{key:"data",get:function(){if(!this._data){var t=this.shadow.querySelector("#journey-datalayer");this._data=t?JSON.parse(t.innerHTML):{}}return this._data}},{key:"displayMode",get:function(){return"inline"}},{key:"isSignedIn",get:function(){return"true"===this.getAttribute("data-is-signed-in")}},{key:"logInLink",get:function(){return this._logInLink||(this._logInLink=this.shadow.querySelector(".login-link")),this._logInLink}},{key:"journeyEventData",get:function(){var t=this.logInLink,e=this.templateId,n=this.templateType,r=this.displayMode,o=this.data,i=this.view,c=this.abVariationName,a=x({templateType:n,displayMode:r},o);return e&&(a.templateId=e),i&&(a.view=i),c&&(a.abVariationName=c),t&&(a.ctaText=t.textContent,a.destinationLink=t.href),a}},{key:"links",get:function(){return this._links||(this._links=this.shadow.querySelectorAll("[data-link-type]")),this._links}},{key:"view",get:function(){var t=Number.isNaN,e=(0,Number.parseInt)(this.getAttribute("data-view"),10);return t(e)?null:e}},{key:"viewsRemaining",get:function(){return this.getAttribute("data-views-remaining")}},{key:"targetSelector",get:function(){return this.getAttribute("data-target-selector")}},{key:"templateId",get:function(){return this.getAttribute("data-template-id")}},{key:"templateType",get:function(){return"journey-template"}}]),e}(j()(HTMLElement));function C(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=b()(t);if(e){var o=b()(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return m()(this,n)}}var D=function(t){function e(){return u()(this,e),n.apply(this,arguments)}y()(e,t);var n=C(e);return d()(e,[{key:"connectedCallback",value:function(){h()(b()(e.prototype),"connectedCallback",this).call(this);var t=this.templateType;window.dispatchEvent(new CustomEvent("journey-blur-content",{detail:{templateType:t}}))}},{key:"templateType",get:function(){return"journey-blocker"}}]),e}(R),I=function(t){var e=1<arguments.length&&void 0!==arguments[1]?arguments[1]:50,n=null;return function(r){clearTimeout(n),n=setTimeout((function(){return t(r)}),e)}},P=["ArrowUp","ArrowDown","Space","Home","End","PageUp","PageDown"],A=function(t,e){var n=document.documentElement.scrollTop,r=I((function(){Math.abs(document.documentElement.scrollTop-n)<e||(t(),window.removeEventListener("scroll",r))}));window.addEventListener("scroll",r)},L=function(t){var e=1<arguments.length&&void 0!==arguments[1]?arguments[1]:100,n=I((function(r){var o=r.key;o&&!P.includes(o)||(window.removeEventListener("wheel",n),window.removeEventListener("touchmove",n),window.removeEventListener("keydown",n),A(t,e))}));window.addEventListener("wheel",n,{once:!0}),window.addEventListener("touchmove",n,{once:!0}),window.addEventListener("keydown",n)};function B(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=b()(t);if(e){var o=b()(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return m()(this,n)}}var N=function(t){function e(){var t;return u()(this,e),(t=n.call(this)).collapseContent=t.collapseContent.bind(E()(t)),t.expandContent=t.expandContent.bind(E()(t)),t}y()(e,t);var n=B(e);return d()(e,[{key:"toggleCollapse",value:function(t){var e=this.templateOuterWrapper;e.classList.toggle("collapsed",t),e.classList.toggle("expanded",!t)}},{key:"setHeight",value:function(){var t=this.templateOuterWrapper,e=this.isExpanded;t.style.maxHeight="".concat(e?this.expandedSection.offsetHeight:this.collapsedSection.offsetHeight,"px")}},{key:"collapseContent",value:function(){this.toggleCollapse(!0),this.setHeight()}},{key:"expandContent",value:function(){this.toggleCollapse(!1),this.setHeight()}},{key:"renderContent",value:function(t){if(!t)return null;h()(b()(e.prototype),"renderContent",this).call(this,t);var n=this.collapseButton,r=this.expandButton,o=this.collapsed,i=this.isExpanded;return n.addEventListener("click",this.collapseContent),r.addEventListener("click",this.expandContent),L(this.collapseContent,_.a.collapseScrollThreshold),i&&!o?this.expandContent():this.collapseContent()}},{key:"collapseButton",get:function(){return this._collapseButton||(this._collapseButton=this.shadow.querySelector("#collapse-btn")),this._collapseButton}},{key:"collapsedSection",get:function(){return this._collapsedSection||(this._collapsedSection=this.shadow.querySelector(".collapsed-section")),this._collapsedSection}},{key:"expandButton",get:function(){return this._expandButton||(this._expandButton=this.shadow.querySelector("#expand-btn")),this._expandButton}},{key:"expandedSection",get:function(){return this._expandedSection||(this._expandedSection=this.shadow.querySelector(".expanded-section")),this._expandedSection}},{key:"isExpanded",get:function(){return this.templateOuterWrapper.classList.contains("expanded")}},{key:"templateOuterWrapper",get:function(){return this._templateOuterWrapper||(this._templateOuterWrapper=this.shadow.querySelector(".template-outer-wrapper")),this._templateOuterWrapper}},{key:"templateType",get:function(){return"journey-collapsible-meter"}}]),e}(R);function U(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=b()(t);if(e){var o=b()(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return m()(this,n)}}var M=function(t){function e(){var t;return u()(this,e),(t=n.call(this)).connectedCallBackCalled=!1,t}y()(e,t);var n=U(e);return d()(e,[{key:"connectedCallback",value:function(){if(!this.connectedCallBackCalled){h()(b()(e.prototype),"connectedCallback",this).call(this),this.connectedCallBackCalled=!0;var t=this.targetSelector;window.dispatchEvent(new CustomEvent("journey-hide-content",{detail:{targetSelector:t}}))}}},{key:"templateType",get:function(){return"journey-content-gate"}}]),e}(R);function q(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=b()(t);if(e){var o=b()(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return m()(this,n)}}var V=function(t){function e(){return u()(this,e),n.apply(this,arguments)}y()(e,t);var n=q(e);return d()(e,[{key:"connectedCallback",value:function(){}},{key:"templateType",get:function(){return"journey-hidden-meter"}}]),e}(R),H=n(9);function W(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=b()(t);if(e){var o=b()(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return m()(this,n)}}var F=function(t){function e(){return u()(this,e),n.apply(this,arguments)}y()(e,t);var n=W(e);return d()(e,[{key:"connectedCallback",value:function(){h()(b()(e.prototype),"connectedCallback",this).call(this);var t=this.templateType;window.dispatchEvent(new CustomEvent("journey-blur-content",{detail:{templateType:t}}))}},{key:"getTemplateUrl",value:function(){var t=h()(b()(e.prototype),"getTemplateUrl",this).call(this),n=Object(H.getNestedValue)(window,["__NEXT_DATA__"]),r=(Object(H.getNestedValue)(window,["journeyData"])||{}).displayType,o=void 0===r?null:r;return o&&!n&&(t=O(t,"displayType",o)),t}},{key:"templateType",get:function(){return"journey-inline-blocker"}}]),e}(R);function J(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=b()(t);if(e){var o=b()(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return m()(this,n)}}var Y=function(t){function e(){return u()(this,e),n.apply(this,arguments)}y()(e,t);var n=J(e);return d()(e,[{key:"getTemplateUrl",value:function(){var t=h()(b()(e.prototype),"getTemplateUrl",this).call(this),n=Object(H.getNestedValue)(window,["__NEXT_DATA__"]),r=(Object(H.getNestedValue)(window,["journeyData"])||{}).displayType,o=void 0===r?null:r;return o&&!n&&(t=O(t,"displayType",o)),t}},{key:"templateType",get:function(){return"journey-inline-meter"}}]),e}(R),z=n(17),Z=n.n(z),$=n(10),X=n.n($),K=function(t){if(!document.cookie.length)return null;var e=document.cookie.split(";").find((function(e){return 0===e.trim().indexOf(t)}));return e?JSON.parse(e.split("=")[1]):null},Q=function(t,e,n){var r=new Date;r.setTime(r.getTime()+24*n*60*60*1e3),document.cookie="".concat(t,"=").concat(JSON.stringify(e),";expires=").concat(r.toUTCString(),";path=/")},G=function(t){return t&&Object.keys(t).length?void Q(_.a.hiddenCookieName,t,_.a.daysToExpireHiddenCookie):void Q(_.a.hiddenCookieName,null,0)},tt=function(){var t=K(_.a.hiddenCookieName);if(!t)return null;var e=!1,n=(new Date).getTime(),r=Object.entries(t).reduce((function(t,r){var o=X()(r,2),i=o[0],c=o[1];return c>n?t[i]=c:e=!0,t}),{});return e&&G(r),r},et=function(t){var e=tt();return e&&!!e[t]},nt=function(t,e){var n=tt()||{};n[t]=(new Date).getTime()+24*e*60*60*1e3,G(n)},rt=n(12),ot=n.n(rt);function it(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function ct(t){for(var e,n=1;n<arguments.length;n++)e=null==arguments[n]?{}:arguments[n],n%2?it(Object(e),!0).forEach((function(n){c()(t,n,e[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(e)):it(Object(e)).forEach((function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(e,n))}));return t}var at=function(t,e,n){var r=t.ok?e:n;return t.headers.get("content-type").includes("application/json")?void t.json().then((function(e){return r(ct(ct({},e),{},{status:t.status}))})).catch(n):void t.text().then((function(e){return r({message:e,status:t.status})})).catch(n)},st=function(t,e){var n;switch(ot()(t)){case"string":n=t;break;case"object":n=t.message||t.error}return n||e},ut=function(t,e,n){var r=3<arguments.length&&void 0!==arguments[3]?arguments[3]:"INLINE",o=4<arguments.length&&void 0!==arguments[4]?arguments[4]:"N"!==n;return new Promise((function(i,c){return fetch(_.a.rufusUrl,{method:"POST",mode:"cors",headers:{"Content-Type":"application/json"},body:JSON.stringify({email:t,preferences:[{preferenceId:e,optinValue:n}],analyticString1:"",analyticString2:"",majorSource:"WNL",minorSource:r,sendToEsp:o})}).then((function(t){return at(t,i,c)})).catch(c)}))},lt=n(18);function dt(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function ft(t){for(var e,n=1;n<arguments.length;n++)e=null==arguments[n]?{}:arguments[n],n%2?dt(Object(e),!0).forEach((function(n){c()(t,n,e[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(e)):dt(Object(e)).forEach((function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(e,n))}));return t}function ht(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=b()(t);if(e){var o=b()(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return m()(this,n)}}var pt=function(t){function e(){var t;return u()(this,e),(t=n.call(this)).handleSubmit=t.handleSubmit.bind(E()(t)),t.handleFocusIn=t.handleFocusIn.bind(E()(t)),t.visitorEmailCaptured=t.visitorEmailCaptured.bind(E()(t)),t}y()(e,t);var n=ht(e);return d()(e,[{key:"dispatchJourneySubmittedEvent",value:function(){var t=this.journeyEventData,e=this.email,n=Z()(e);window.dispatchEvent(new CustomEvent("journey-submitted",{detail:ft(ft({},t),{},{"email-md5":n})}))}},{key:"handleFocusIn",value:function(){}},{key:"handleSubmit",value:function(t){t.preventDefault();var e=this.email&&this.email.trim();return/^[-!#$%&'*+/0-9=?A-Z^_a-z`{|}~](\.?[-!#$%&'*+/0-9=?A-Z^_a-z`{|}~])*@[a-zA-Z0-9](-*\.?[a-zA-Z0-9])*\.[a-zA-Z](-?[a-zA-Z0-9])+$/.test(e)?this.subscribeEmail(e,_.a.cdsOptIn,this.visitorEmailCaptured):this.visitorSubmittedInvalidEmail()}},{key:"renderContent",value:function(t){t&&(h()(b()(e.prototype),"renderContent",this).call(this,t),this.submitButton.addEventListener("click",this.handleSubmit),this.emailElement.addEventListener("focusin",this.handleFocusIn))}},{key:"subscribeEmail",value:function(t,e,n){var r=this,o=this.data.authId;ut(t,o,e,this.minorSource).then(n).catch((function(){var t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{};Object(lt.a)("Rufus Error",st(t,"Error submitting to Rufus"),t,r.journeyEventData)}))}},{key:"visitorEmailCaptured",value:function(){this.dispatchJourneySubmittedEvent(),nt(this.templateId,_.a.daysToHideNewsletter)}},{key:"visitorSubmittedInvalidEmail",value:function(){}},{key:"emailElement",get:function(){return this._emailElement||(this._emailElement=this.shadow.querySelector(".input-email")),this._emailElement}},{key:"email",get:function(){return this.emailElement.value}},{key:"minorSource",get:function(){return"INLINE"}},{key:"submitButton",get:function(){return this._submitButton||(this._submitButton=this.shadow.querySelector("#submit-button")),this._submitButton}},{key:"templateType",get:function(){return"journey-newsletter"}}]),e}(R);function yt(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=b()(t);if(e){var o=b()(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return m()(this,n)}}var vt=function(t){function e(){return u()(this,e),n.apply(this,arguments)}y()(e,t);var n=yt(e);return d()(e,[{key:"handleFocusIn",value:function(){this.mainSection.classList.remove("error")}},{key:"visitorEmailCaptured",value:function(){var t=this.mainSection,n=this.thankYouContainer;t.style.display="none",n.style.display="block",h()(b()(e.prototype),"visitorEmailCaptured",this).call(this)}},{key:"visitorSubmittedInvalidEmail",value:function(){h()(b()(e.prototype),"visitorSubmittedInvalidEmail",this).call(this),this.mainSection.classList.add("error")}},{key:"mainSection",get:function(){return this._mainSection||(this._mainSection=this.shadow.querySelector(".main-section")),this._mainSection}},{key:"thankYouContainer",get:function(){return this._thankYouContainer||(this._thankYouContainer=this.shadow.querySelector(".thank-you-container")),this._thankYouContainer}},{key:"templateType",get:function(){return"journey-inline-newsletter"}}]),e}(pt);function mt(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=b()(t);if(e){var o=b()(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return m()(this,n)}}var gt=function(t){function e(){var t;return u()(this,e),(t=n.call(this)).handleCancel=t.handleCancel.bind(E()(t)),t.handleVisitSite=t.handleVisitSite.bind(E()(t)),t}y()(e,t);var n=mt(e);return d()(e,[{key:"handleCancel",value:function(){nt(this.templateId,_.a.daysToHideTodaysRewards),this.parentNode.removeChild(this)}},{key:"handleVisitSite",value:function(){var t=this.mainSection,e=this.thankYouContainer;t.style.display="none",e.style.display="block"}},{key:"renderContent",value:function(t){t&&(h()(b()(e.prototype),"renderContent",this).call(this,t),this.visitSiteButton.addEventListener("click",this.handleVisitSite),this.cancelButton.addEventListener("click",this.handleCancel))}},{key:"cancelButton",get:function(){return this._cancelButton||(this._cancelButton=this.shadow.querySelector(".cancel-btn")),this._cancelButton}},{key:"mainSection",get:function(){return this._mainSection||(this._mainSection=this.shadow.querySelector(".main-section")),this._mainSection}},{key:"templateType",get:function(){return"journey-inline-todays-rewards"}},{key:"thankYouContainer",get:function(){return this._thankYouContainer||(this._thankYouContainer=this.shadow.querySelector(".thank-you-container")),this._thankYouContainer}},{key:"visitSiteButton",get:function(){return this._visitSiteButton||(this._visitSiteButton=this.shadow.querySelector(".redirect-btn")),this._visitSiteButton}}]),e}(R);function bt(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=b()(t);if(e){var o=b()(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return m()(this,n)}}var wt=function(t){function e(){var t;return u()(this,e),(t=n.call(this)).close=t.close.bind(E()(t)),t}y()(e,t);var n=bt(e);return d()(e,[{key:"close",value:function(){this.remove()}},{key:"addCloseListener",value:function(){this.closeButton&&this.closeButton.addEventListener("click",this.close)}},{key:"renderContent",value:function(t){t&&(h()(b()(e.prototype),"renderContent",this).call(this,t),this.addCloseListener())}},{key:"templateType",get:function(){return"journey-low-banner"}},{key:"closeButton",get:function(){return this._closeButton||(this._closeButton=this.shadow.querySelector(".close-button")),this._closeButton}}]),e}(R);function Et(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=b()(t);if(e){var o=b()(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return m()(this,n)}}var kt=function(t){function e(){var t;return u()(this,e),(t=n.call(this)).setBottom=t.setBottom.bind(E()(t)),t}y()(e,t);var n=Et(e);return d()(e,[{key:"attachAdCloseEvent",value:function(){var t=this;this._adCloseEventAttached||!this.adhesionCloseButton||(["click","touchstart"].forEach((function(e){return t.adhesionCloseButton.addEventListener(e,(function(){return t.setBottom(!0)}))})),this._adCloseEventAttached=!0)}},{key:"attachAdUnitEvents",value:function(){var t=this;window.addEventListener("adRendered",(function(e){"gpt_adhesion"===e.detail.id&&(t.setBottom(),t.attachAdCloseEvent())})),this.attachAdCloseEvent()}},{key:"attachInViewObserver",value:function(){}},{key:"renderContent",value:function(t){var n=this;t&&(h()(b()(e.prototype),"renderContent",this).call(this,t),this.initialBottom=window.getComputedStyle(this.outerWrapper).getPropertyValue("bottom")||"0px",this.setBottom(),this.isMobileScreen.addEventListener("change",(function(){return n.setBottom()})),this.attachAdUnitEvents(),window.dispatchEvent(new CustomEvent("journey-inview",{detail:this.journeyEventData})))}},{key:"setBottom",value:function(){var t=!!(0<arguments.length&&void 0!==arguments[0])&&arguments[0],e=this.outerWrapper,n=this.initialBottom;if(this.isMobileScreen.matches&&!t){var r=this.adhesionUnit;r&&e.style.setProperty("bottom","calc(".concat(n," + ").concat(r.offsetHeight||0,"px)"))}else e.style.setProperty("bottom",n)}},{key:"adhesionCloseButton",get:function(){return this._adhesionCloseButton||(this._adhesionCloseButton=document.querySelector(".mobile-adhesion-unit-close-button")),this._adhesionCloseButton}},{key:"adhesionUnit",get:function(){return this._adhesionUnit||(this._adhesionUnit=document.querySelector(".mobile-adhesion-unit")),this._adhesionUnit}},{key:"displayMode",get:function(){return"modal"}},{key:"isMobileScreen",get:function(){return window.matchMedia("(max-width: 61.1875rem)")}},{key:"outerWrapper",get:function(){return this._outerWrapper||(this._outerWrapper=this.shadow.querySelector(".outer-wrapper")),this._outerWrapper}}]),e}(R);function jt(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=b()(t);if(e){var o=b()(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return m()(this,n)}}var _t=function(t){function e(){return u()(this,e),n.apply(this,arguments)}y()(e,t);var n=jt(e);return d()(e,[{key:"connectedCallback",value:function(){h()(b()(e.prototype),"connectedCallback",this).call(this);var t=this.templateType;window.dispatchEvent(new CustomEvent("journey-blur-content",{detail:{templateType:t}}))}},{key:"templateType",get:function(){return"journey-modal-blocker"}}]),e}(kt);function Ot(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=b()(t);if(e){var o=b()(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return m()(this,n)}}var St=function(t){function e(){var t;return u()(this,e),(t=n.call(this)).toggleContent=t.toggleContent.bind(E()(t)),t}y()(e,t);var n=Ot(e);return d()(e,[{key:"setHeight",value:function(){var t=this.outerWrapper,e=this.isExpanded;t.style.maxHeight="".concat(e?this.expandedSection.offsetHeight:this.collapsedSection.offsetHeight,"px")}},{key:"toggleCollapse",value:function(t){var e=this.outerWrapper;e.classList.toggle("collapsed",t),e.classList.toggle("expanded",!t)}},{key:"toggleContent",value:function(){var t=this.isExpanded;this.toggleCollapse(t),this.setHeight()}},{key:"renderContent",value:function(t){var n=this;t&&(h()(b()(e.prototype),"renderContent",this).call(this,t),this.expandButton.addEventListener("click",this.toggleContent),this.setHeight(),L((function(){n.toggleCollapse(!0),n.setHeight()}),_.a.collapseScrollThreshold))}},{key:"collapsedSection",get:function(){return this._collapsedSection||(this._collapsedSection=this.shadow.querySelector(".collapsed-section")),this._collapsedSection}},{key:"expandButton",get:function(){return this._expandButton||(this._expandButton=this.shadow.querySelector("#control-btn")),this._expandButton}},{key:"expandedSection",get:function(){return this._expandedSection||(this._expandedSection=this.shadow.querySelector(".expanded-section")),this._expandedSection}},{key:"isExpanded",get:function(){return this.outerWrapper.classList.contains("expanded")}},{key:"templateType",get:function(){return"journey-modal-meter"}}]),e}(kt);function xt(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function Tt(t){for(var e,n=1;n<arguments.length;n++)e=null==arguments[n]?{}:arguments[n],n%2?xt(Object(e),!0).forEach((function(n){c()(t,n,e[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(e)):xt(Object(e)).forEach((function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(e,n))}));return t}function Rt(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=b()(t);if(e){var o=b()(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return m()(this,n)}}var Ct=["scroll","keydown","visibilitychange"],Dt=Ct.concat(["mousedown","mousemove","touchstart","touchmove"]),It=Ct.concat(["pointerdown","pointermove"]),Pt=function(t){function e(){var t;return u()(this,e),(t=n.call(this)).open=t.open.bind(E()(t)),t.close=t.close.bind(E()(t)),t.keydownEventHandler=t.keydownEventHandler.bind(E()(t)),t.resetIdleTimer=I(t.open,1e3*_.a.idleTime),t}y()(e,t);var n=Rt(e);return d()(e,[{key:"attachInViewObserver",value:function(){}},{key:"close",value:function(){var t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{},e=t.isTrusted;this.ariaHidden=!0,this.lastActiveElement&&this.lastActiveElement.focus(),document.removeEventListener("keydown",this.keydownEventHandler),window.dispatchEvent(new CustomEvent("journey-modal-close",{detail:Tt(Tt({},this.journeyEventData),{},{isUserEvent:void 0!==e&&e})}))}},{key:"handleFocusIn",value:function(){h()(b()(e.prototype),"handleFocusIn",this).call(this),this.errorMessage.style.display="none"}},{key:"keydownEventHandler",value:function(t){if("Escape"!==t.key){if("Tab"===t.key){var e=this.focusable,n=e[0],r=e[e.length-1];t.shiftKey&&this.shadow.activeElement===n?(r.focus(),t.preventDefault()):this.shadow.activeElement===r&&(n.focus(),t.preventDefault())}}else this.close(t)}},{key:"open",value:function(){this.lastActiveElement=document.activeElement,this.unbindActivityEvents(),window.journeyModalOpened||(window.journeyModalOpened=!0,document.addEventListener("keydown",this.keydownEventHandler),this.ariaHidden=!1,this.emailElement.focus(),window.dispatchEvent(new CustomEvent("journey-inview",{detail:this.journeyEventData})),window.dispatchEvent(new CustomEvent("journey-modal-open",{detail:this.journeyEventData})),nt(this.templateId,_.a.daysToHideModalNewsletterAfterView))}},{key:"addCloseListeners",value:function(){this.cancelButton.addEventListener("click",this.close),this.closeButton.addEventListener("click",this.close),this.overlay.addEventListener("click",this.close)}},{key:"renderContent",value:function(t){t&&(h()(b()(e.prototype),"renderContent",this).call(this,t),this.addCloseListeners(),this.startIdleTimer())}},{key:"startIdleTimer",value:function(){var t=this;this.activityEvents.forEach((function(e){return document.addEventListener(e,t.resetIdleTimer,{capture:!0,passive:!0})})),this.resetIdleTimer()}},{key:"unbindActivityEvents",value:function(){var t=this;this.activityEvents.forEach((function(e){return document.removeEventListener(e,t.resetIdleTimer,{capture:!0,passive:!0})}))}},{key:"visitorEmailCaptured",value:function(){this.close(),h()(b()(e.prototype),"visitorEmailCaptured",this).call(this)}},{key:"visitorSubmittedInvalidEmail",value:function(){h()(b()(e.prototype),"visitorSubmittedInvalidEmail",this).call(this),this.errorMessage.style.display="block"}},{key:"activityEvents",get:function(){return window.PointerEvent?It:Dt}},{key:"ariaHidden",set:function(t){return t?void this.setAttribute("aria-hidden",!0):void this.removeAttribute("aria-hidden")}},{key:"cancelButton",get:function(){return this._cancelButton||(this._cancelButton=this.shadow.querySelector("#cancel-button")),this._cancelButton}},{key:"closeButton",get:function(){return this._closeButton||(this._closeButton=this.shadow.querySelector(".modal-close")),this._closeButton}},{key:"displayMode",get:function(){return"modal"}},{key:"errorMessage",get:function(){return this._errorMessage||(this._errorMessage=this.shadow.querySelector(".error-message")),this._errorMessage}},{key:"focusable",get:function(){return this._focusable||(this._focusable=Array.from(this.shadow.querySelectorAll('a[href], input:not([disabled]), button:not([disabled]), [tabindex="0"]'))),this._focusable}},{key:"minorSource",get:function(){return"MODAL"}},{key:"overlay",get:function(){return this._overlay||(this._overlay=this.shadow.querySelector(".modal-overlay")),this._overlay}},{key:"templateType",get:function(){return"journey-modal-newsletter"}}]),e}(pt);function At(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function Lt(t){for(var e,n=1;n<arguments.length;n++)e=null==arguments[n]?{}:arguments[n],n%2?At(Object(e),!0).forEach((function(n){c()(t,n,e[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(e)):At(Object(e)).forEach((function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(e,n))}));return t}var Bt=function(){var t=K(_.a.viewsCookieName);if(!t)return null;var e={},n=(new Date).getTime();return Object.entries(t).forEach((function(t){var r=X()(t,2),o=r[0],i=r[1];i.expiryDate<n||(e[o]=i)})),e},Nt=function(t,e){var n,r=Math.min,o=window.HRST.article.id,i=Bt();if(!i||!i[t]){var a=Lt(Lt({},i),{},c()({},t,{articles:[o],expiryDate:(new Date).getTime()+24*_.a.daysToExpirePaywallView*60*60*1e3}));return Q(_.a.viewsCookieName,a,_.a.daysToExpireViewsCookie),1}var s=i[t].articles,u=s.length;return s.includes(o)?n=e:((!e||u<e)&&s.push(o),u+=1,n=e+1),Q(_.a.viewsCookieName,i,_.a.daysToExpireViewsCookie),r(u,n)};function Ut(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}customElements.define("journey-template",R),customElements.define("journey-content-gate",M),customElements.define("journey-blocker",D),customElements.define("journey-inline-blocker",F),customElements.define("journey-inline-meter",Y),customElements.define("journey-collapsible-meter",N),customElements.define("journey-modal-meter",St),customElements.define("journey-modal-blocker",_t),customElements.define("journey-low-banner",wt),customElements.define("journey-hidden-meter",V),customElements.define("journey-inline-newsletter",vt),customElements.define("journey-modal-newsletter",Pt),customElements.define("journey-inline-todays-rewards",gt);var Mt=function(t){var e=document.querySelector(t);if(e){!function(t){var e=document.createElement("style");e.innerHTML="\n  .journey-gate-hide {\n    position: relative;\n    clear:both;\n    margin-left: -0.938rem;\n    margin-right: -0.938rem;\n  }\n\n  .journey-gate-hide:before {\n    background:linear-gradient(rgba(255,255,255,0), #fff);\n    content:'';\n    height:10rem;\n    left:0;\n    pointer-events: none;\n    position:absolute;\n    top:-10rem;\n    width:100%;\n  }\n\n  .journey-gate-hide ~ * {\n    display: none !important;\n  }\n\n  @media (min-width: 48rem) {\n    .journey-gate-hide{\n       margin-left: 0;\n       margin-right:0;\n    }\n  }\n\n  ".concat(t," {\n    clear: both;\n    text-align: center;\n  }\n  "),document.body.appendChild(e)}(t);var n=document.createElement("div");n.classList.add("journey-gate-hide"),e.before(n);var r=document.querySelector(".content-container");r&&r.appendChild(e)}},qt=function(t){t&&window.dispatchEvent(new CustomEvent("journey-ab-test",{detail:{abVariationName:t}}))},Vt=function(t,e){e.forEach((function(e){var n=e,r=n.templateId,o=n.templateType,i=n.targetSelector,a=n.paywallId,s=n.maxPageViews,u=n.templates,l=n.abVariationName,d=document.querySelector(i);if(!(!d||_.a.hiddenCookieTemplates.includes(o)&&et(r))){if(a&&s&&u){var f=Nt(a,s),h=u.find((function(t){var e=t.pageViews;return[].concat(e).includes(f)}));e=function(t){for(var e,n=1;n<arguments.length;n++)e=null==arguments[n]?{}:arguments[n],n%2?Ut(Object(e),!0).forEach((function(n){c()(t,n,e[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(e)):Ut(Object(e)).forEach((function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(e,n))}));return t}({abVariationName:l,view:f,targetSelector:i,viewsRemaining:s>f?s-f:0},h)}var p=function(t,e){var n=Number.isInteger,r=e.templateId,o=e.templateType,i=e.targetSelector,c=e.view,a=e.viewsRemaining,s=e.collapsed,u=e.abVariationName,l=(Object(H.getNestedValue)(window,["HRST","site"])||{})["jam-journey-modals-enabled"];if(!o||!r&&"journey-hidden-meter"!==o||"journey-modal-newsletter"===o&&(void 0===l||!l))return null;var d=document.createElement(o);return d.setAttribute("data-is-signed-in",t),d.setAttribute("data-target-selector",i),d.setAttribute("data-template-id",r),u&&d.setAttribute("data-ab-variation-name",u),n(c)&&d.setAttribute("data-view",c),s&&d.setAttribute("data-collapsed",s),n(a)&&d.setAttribute("data-views-remaining",a),"journey-modal-newsletter"===o&&d.setAttribute("aria-hidden",!0),d}(t,e);return p?((/modal/.test(o)||/modal/.test(p.templateType))&&(d=document.body),"journey-inline-blocker"===e.templateType||"journey-inline-meter"===e.templateType?void function(t){var e,n=(Object(H.getNestedValue)(window,["journeyData"])||{}).displayType,r=void 0===n?null:n,o=Object(H.getNestedValue)(window,["__NEXT_DATA__"]);switch(r){case"standard-article":e=document.querySelector("".concat(o?"":".standard-body>",".standard-body-content>p:nth-of-type(2)"));break;case"long-form-article":case"longform-article":var i=document.querySelector(".longform-body>p:nth-of-type(3)");e=document.querySelector(".longform-body>p".concat(i?":nth-of-type(2)":""));break;case"listicle":var c=document.querySelector(".listicle-intro>p:nth-of-type(3)");e=document.querySelector(".listicle-intro".concat(c?">p:nth-of-type(2)":""));break;case"recipe":var a=o?"#recipe-introduction":".recipe-introduction",s=document.querySelector("".concat(a,">p:nth-of-type(3)"));e=document.querySelector("".concat(a).concat(s?">p:nth-of-type(2)":""));break;default:e=null}e&&e.after(t)}(p):void d.appendChild(p)):void qt(l)}qt(l)}))},Ht=function(t){t.classList.add("journey-unblur-content")},Wt=function(t){for(;t;)Ht(t),t=t.previousElementSibling},Ft=function(t){t.on("playing",t.pause),t.on("ads-ad-started",(function(){t.ima.pauseAd(),t.ima.addEventListener("resume",t.ima.pauseAd)}))};window.addEventListener("journey-init",(function(t){var e=t.detail,n=e.siteId,r=o()(e,["siteId"]);n&&function(t,e){var n=new URLSearchParams(window.location.search).get("journey_version");return n&&(e.journey_version=n),fetch("".concat(_.a.jamUrl,"/rules/match/").concat(t,"?").concat(new URLSearchParams(e).toString()))}(n,r).then((function(t){t.ok&&t.json().then((function(t){var e=t.data;e&&Vt(r.signedIn,e)}))}))})),window.addEventListener("journey-hide-content",(function(t){var e=t.detail;Mt(e.targetSelector)})),window.addEventListener("journey-blur-content",(function(t){var e=t.detail;(function(){var t=document.createElement("style");t.innerHTML="\n  .journey-blur-content:not(.journey-unblur-content) {\n    filter: blur(0.625rem);\n    pointer-events: none !important;\n    user-select: none !important;\n  }",document.body.appendChild(t);var e=function(t,e){t.forEach((function(t){t.isIntersecting&&(t.target.classList.add("journey-blur-content"),e.unobserve(t.target))}))};document.querySelectorAll('\n    #__next .article-container>.article-body>*:not(.breaker-ad):not(.vertical-ad):not(#ad-article-rail-default-wrapper):not(.content-lead):not(#gpt-ad-vertical-top-mobile-wrapper):not(.journey-unblur-content),\n    #__next .content-lead-image:not(.journey-unblur-content),\n    #main-content .content-header-actions:not(.journey-unblur-content),\n    .article-container>.article-body>*:not(.breaker-ad):not(.vertical-ad):not(.journey-unblur-content),\n    .authors:not(.journey-unblur-content),\n    .listicle-body>.content-lede-image:not(.journey-unblur-content),\n    .listicle-body-content>.listicle-slide:not(.journey-unblur-content),\n    .listicle-body-content .listicle-slides:not(.journey-unblur-content),\n    .listicle-body-content .syndicate-source-link:not(.journey-unblur-content),\n    .listicle-body-content #journey-inline:not(.journey-unblur-content),\n    .listicle-intro:not(.journey-unblur-content),\n    .recipe-introduction:not(.journey-unblur-content),\n    .recipe-container>.recipe-body>*:not(.breaker-ad):not(.vertical-ad):not(.recipe-lede-video):not(.journey-unblur-content),\n    .slideshow-slide:not(.journey-unblur-content),\n    .slideshow-inner>.slideshow-lede>*:not(.breaker-ad):not(.vertical-ad):not(.journey-unblur-content),\n    .standard-body>.content-lede-image:not(.journey-unblur-content),\n    .standard-body>.standard-body-content>*:not(.breaker-ad):not(.vertical-ad):not(.end-of-content-playlist):not(.journey-unblur-content),\n    .watch-next-in-body:not(.journey-unblur-content),\n    .journey-blur-content:not(.journey-unblur-content) > *:not([class*="-ad"],[class*="ad-"]),\n    #livestream:not(.journey-unblur-content)').forEach((function(t){(window.IntersectionObserver?new IntersectionObserver(e):new a.IntersectionObserver(e)).observe(t)}))})(),window.JOURNEY_BLOCKED=!0;var n=document.querySelector(".watch-next-in-body, .embed-video"),r=document.querySelector(".standard-body-content, .listicle-body-content, .longform-body, .recipe-body"),o=document.querySelector(".recipe-body .vertical-ad");if(r&&n&&function(t){window.addEventListener("newHearstPlayerInit",(function(e){var n=e.detail,r=(n=void 0===n?{}:n).player,o=void 0===r?{}:r;o.el&&t.contains(o.el())&&Ft(o)})),t.querySelectorAll("video[id*='hearstPlayer']").forEach((function(t){var e=videojs.getPlayer(t.id);Ft(e)}))}(r),o&&Ht(o.parentElement),e&&"journey-inline-blocker"===e.templateType){var i=document.querySelector("journey-inline-blocker"),c=document.querySelector(".content-lead-image");Wt(i),Wt(i.parentElement),Wt(i.parentElement.parentElement),c&&Ht(c),function(t){for(var e=t.nextElementSibling;e;)/-ad|ad-/.test(e.className)||e.classList.add("journey-blur-content"),e=e.nextElementSibling}(i)}})),window.addEventListener("journey-modal-open",(function(){document.documentElement.classList.add("no-scroll"),document.body.classList.add("no-scroll")})),window.addEventListener("journey-modal-close",(function(){var t=document.querySelector("#sidepanel");t&&"true"!==t.getAttribute("aria-hidden")||(document.documentElement.classList.remove("no-scroll"),document.body.classList.remove("no-scroll"))}))}]);